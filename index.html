<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Ways - Ideas Manager</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
     <link rel="stylesheet" href="style.css">

    </head>
<body>

 <aside class="sidebar">
        <div class="brand">
            <i class="ph ph-flower-lotus" style="color:#2dd4bf;"></i> Life Ways
        </div>
        
        <div class="sidebar-content">
            
            <div class="nav-group">
                <div class="nav-title">MAIN MENU</div>
                <nav>
                    <a href="#" class="menu-item active" onclick="navigate('dashboard', this)">
                        <i class="ph ph-squares-four"></i> Dashboard
                    </a>
                </nav>
            </div>

            <div class="nav-group">
                <div class="nav-title">WORKSPACE</div>
                <nav>
                    <a href="#" class="menu-item" onclick="navigate('project', this)">
                        <i class="ph ph-briefcase"></i> Proyek
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('business', this)">
                        <i class="ph ph-chart-line-up"></i> Bisnis
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('ideas', this)">
                        <i class="ph ph-lightbulb"></i> Ideas
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('plans', this)">
                        <i class="ph ph-calendar-check"></i> Plans
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('notulensi', this)">
                        <i class="ph ph-notebook"></i> Notulensi
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('meeting', this)">
                <i class="ph ph-presentation-chart"></i> Meeting Log
            </a>
                </nav>
            </div>

            <div class="nav-group">
                <div class="nav-title">FINANCE & GROWTH</div>
                <nav>
                    <a href="#" class="menu-item" onclick="navigate('finance', this)">
                        <i class="ph ph-coins"></i> Keuangan
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('subscription', this)">
                        <i class="ph ph-credit-card"></i> Langganan
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('education', this)">
                        <i class="ph ph-graduation-cap"></i> Pendidikan
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('journal', this)">
                        <i class="ph ph-book-bookmark"></i> Journal
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('lomba', this)">
                        <i class="ph ph-trophy"></i> Lomba
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('investment', this)">
                <i class="ph ph-chart-line-up"></i> Investasi
            </a>
            <a href="#" class="menu-item" onclick="navigate('skill', this)">
                <i class="ph ph-cpu"></i> Skill Tracker
            </a>
            <a href="#" class="menu-item" onclick="navigate('reading', this)">
                <i class="ph ph-books"></i> Reading List
            </a>
            <a href="#" class="menu-item" onclick="navigate('habit', this)">
                <i class="ph ph-plant"></i> Habit Builder
            </a>
            <a href="#" class="menu-item" onclick="navigate('certification', this)">
                <i class="ph ph-certificate"></i> Sertifikasi
            </a>
                      <a href="#" class="menu-item" onclick="navigate('content', this)">
                <i class="ph ph-video-camera"></i> Content Calendar
            </a>
            <a href="#" class="menu-item" onclick="navigate('portfolio', this)">
                <i class="ph ph-paint-brush"></i> Portfolio Art
            </a>
            <a href="#" class="menu-item" onclick="navigate('video_ideas', this)">
                <i class="ph ph-youtube-logo"></i> Video Scripting
            </a>
                    
                </nav>
            </div>

            <div class="nav-group">
                <div class="nav-title">LIFESTYLE</div>
                <nav>
                    <a href="#" class="menu-item" onclick="navigate('sport', this)">
                        <i class="ph ph-barbell"></i> Olahraga
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('food', this)">
                        <i class="ph ph-bowl-food"></i> Jadwal Makan
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('vacation', this)">
                        <i class="ph ph-airplane-tilt"></i> Liburan
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('worship', this)">
                        <i class="ph ph-hands-praying"></i> Ibadah
                    </a>
                    <a href="#" class="menu-item" onclick="navigate('watchlist', this)">
                <i class="ph ph-film-strip"></i> Watchlist
            </a>
            <a href="#" class="menu-item" onclick="navigate('crm', this)">
                <i class="ph ph-address-book"></i> Personal CRM
            </a>
            <a href="#" class="menu-item" onclick="navigate('event', this)">
                <i class="ph ph-confetti"></i> Event Organizer
            </a>
          
                    
                </nav>
            </div>

        </div>
    </aside>

    <main class="main-content">
        <div id="page-ideas" class="content-section hidden">
        <header class="header">
           <h1 id="greetTitle">Good Morning.</h1>
            <p id="greetDesc">Design your life, your way. Capture your brilliant ideas here.</p>
            
            <div class="actions">
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 1rem;">
    
    <button class="btn-primary" onclick="openFormModal()" style="white-space: nowrap;">
        <i class="ph ph-plus-circle" style="font-size: 1.2rem;"></i> New Idea
    </button>

    <div class="search-box-wrapper">
        <i class="ph ph-magnifying-glass search-icon"></i>
        <input type="text" id="inpSearch" placeholder="Cari nama tugas..." oninput="applyFilters()">
    </div>

    <div class="filter-box-wrapper">
        <i class="ph ph-faders filter-icon"></i>
        <select id="inpFilter" onchange="applyFilters()">
            <option value="newest">Waktu: Terbaru (Default)</option>
            <option value="oldest">Waktu: Terlama</option>
            <hr>
            <option value="status_todo">Status: Belum Dimulai</option>
            <option value="status_doing">Status: Dikerjakan</option>
            <option value="status_done">Status: Sudah Selesai</option>
        </select>
    </div>
</div>
            </div>
        </header>

        <div id="ideasContainer" class="cards-grid">
            </div>
     </div>
    <div id="page-dashboard" class="content-section">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #fcd34d, #f87171, #c084fc); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 3rem;">Dashboard Overview.</h1>
                <p style="color:#e2e8f0;">Semua ide, rencana, dan cerita hidupmu dalam satu pandangan.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchDash" placeholder="Cari di seluruh aplikasi..." oninput="renderDashboard()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2);">
                        <i class="ph ph-stack filter-icon"></i>
                        <select id="inpDashFilter" onchange="renderDashboard()">
                            <option value="all">Tampilkan Semua</option>
                            <option value="idea">Hanya Ideas (Ide)</option>
                            <option value="plan">Hanya Plans (Rencana)</option>
                            <option value="journal">Hanya Journals (Cerita)</option>
                            <option value="notulensi">Hanya Notulensi (Rapat)</option>
                            <option value="lomba">Hanya Lomba (Kompetisi)</option>
    <option value="sport">Hanya Olahraga (Jadwal)</option>
    <option value="food">Hanya Jadwal Makan</option>
    <option value="vacation">Hanya Jadwal Liburan</option>
    <option value="worship">Hanya Jadwal Ibadah</option>
    <option value="project">Hanya Jadwal Project</option>
    <option value="education">Hanya Jadwal Pendidikan</option>
      <option value="business">Hanya Bisnis</option>
</select>
                        </select>
                    </div>
                    <div style="display:flex; gap:1rem; margin-left:auto;">
                        <div class="stat-badge">
                            <span id="statTotal" style="font-weight:bold; color:white;">0</span> Items
                        </div>
                    </div>
                </div>
            </header>

            <div id="dashboardContainer" class="cards-grid">
                </div>
        </div>
        <div id="page-reading" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #d97706, #fcd34d); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Library.</h1>
                <p style="color:#fed7aa;">Koleksi buku, kutipan inspiratif, dan perjalanan literasi Anda.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openReadingModal()" style="background: linear-gradient(135deg, #78350f 0%, #b45309 100%); box-shadow: 0 4px 15px rgba(120, 53, 15, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-plus-circle"></i> Add Book
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchReading" placeholder="Cari judul buku / penulis..." oninput="renderReading()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpReadingFilter" onchange="renderReading()">
                            <option value="newest">Terbaru Ditambahkan</option>
                            <option value="rating_high">Rating Tertinggi</option>
                            <hr>
                            <option value="stat_reading">Sedang Dibaca</option>
                            <option value="stat_finished">Selesai Dibaca</option>
                            <option value="genre_fiction">Genre: Fiksi</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="readingContainer" class="cards-grid"></div>
        </div>
        <div id="page-habit" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #6ee7b7, #10b981); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Habit Builder.</h1>
                <p style="color:#d1fae5;">Bangun rutinitas positif, pertahankan streak, dan ubah hidupmu.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openHabitModal()" style="background: linear-gradient(135deg, #047857 0%, #10b981 100%); box-shadow: 0 4px 15px rgba(4, 120, 87, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-plus-circle"></i> New Habit
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchHabit" placeholder="Cari kebiasaan (Lari, Meditasi)..." oninput="renderHabit()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpHabitFilter" onchange="renderHabit()">
                            <option value="streak_high">Streak Tertinggi</option>
                            <option value="newest">Terbaru</option>
                            <hr>
                            <option value="freq_daily">Frekuensi: Harian</option>
                            <option value="freq_weekly">Frekuensi: Mingguan</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="habitContainer" class="cards-grid"></div>
        </div>
        <div id="page-crm" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #3b82f6, #94a3b8, #e2e8f0); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">My Network.</h1>
                <p style="color:#cbd5e1;">Kelola hubungan profesional, klien, dan mentor Anda.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openCrmModal()" style="background: linear-gradient(135deg, #1e3a8a 0%, #334155 100%); box-shadow: 0 4px 15px rgba(30, 58, 138, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-user-plus"></i> Add Contact
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);min-width: 440px;">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchCrm" placeholder="Cari nama, perusahaan, role..." oninput="renderCrm()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpCrmFilter" onchange="renderCrm()">
                            <option value="newest">Baru Ditambahkan</option>
                            <option value="recent_meet">Baru Bertemu</option>
                            <option value="followup_needed">Perlu Follow-up (>30 Hari)</option>
                            <hr>
                            <option value="cat_client">Kategori: Klien</option>
                            <option value="cat_mentor">Kategori: Mentor</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="crmContainer" class="cards-grid"></div>
        </div>
        <div id="page-event" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #c026d3, #e879f9, #f472b6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Event Planner.</h1>
                <p style="color:#fbcfe8;">Rencanakan momen spesial, kelola tamu, dan wujudkan acara impian.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openEventModal()" style="background: linear-gradient(135deg, #701a75 0%, #db2777 100%); box-shadow: 0 4px 15px rgba(219, 39, 119, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-calendar-plus"></i> New Event
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchEvent" placeholder="Cari nama acara / lokasi..." oninput="renderEvent()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpEventFilter" onchange="renderEvent()">
                            <option value="soonest">Jadwal Terdekat</option>
                            <option value="budget_high">Budget Tertinggi</option>
                            <hr>
                            <option value="stat_planning">Status: Planning</option>
                            <option value="stat_ready">Status: Ready</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="eventContainer" class="cards-grid"></div>
        </div>

        <div id="page-plans" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #a78bfa, #2dd4bf); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Weekly Plans.</h1>
                <p style="color:#cbd5e1;">Rencanakan kesuksesanmu. Susun strategi dan eksekusi.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openPlanModal()" style="background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%); box-shadow: 0 4px 15px rgba(168, 85, 247, 0.4);">
                        <i class="ph ph-plus-circle"></i> New Plan
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchPlan" placeholder="Cari rencana..." oninput="renderPlans()">
                     </div>
                     

     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
        <i class="ph ph-faders filter-icon"></i>
        <select id="inpPlanFilter" onchange="renderPlans()">
            <option value="newest">Waktu: Terbaru</option>
            <option value="oldest">Waktu: Terlama</option>
            <hr>
            <option value="prio_urgent">Prioritas: Urgent & High</option>
            <hr>
            <option value="stat_exec">Status: Eksekusi</option>
            <option value="stat_success">Status: Berhasil</option>
            <option value="stat_idea">Status: Idea / Plan</option>
        </select>
    </div>


                </div>
            </header>

            <div id="plansContainer" class="cards-grid">
                </div>
        </div>
<div id="page-portfolio" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #fb7185, #fda4af, #fca5a5); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Creative Gallery.</h1>
                <p style="color:#fecdd3;">Koleksi mahakarya, eksplorasi visual, dan jejak kreativitas.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openPortModal()" style="background: linear-gradient(135deg, #e11d48 0%, #fb7185 100%); box-shadow: 0 4px 15px rgba(225, 29, 72, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-upload-simple"></i> Upload Work
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchPort" placeholder="Cari karya / tools..." oninput="renderPortfolio()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpPortFilter" onchange="renderPortfolio()">
                            <option value="newest">Terbaru Dibuat</option>
                            <option value="client_work">Proyek Klien</option>
                            <option value="personal_work">Proyek Pribadi</option>
                            <hr>
                            <option value="tool_figma">Tools: Figma</option>
                            <option value="tool_ps">Tools: Photoshop</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="portContainer" class="cards-grid"></div>
        </div>
        <div id="page-meeting" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #94a3b8, #cbd5e1, #d97706); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Executive Brief.</h1>
                <p style="color:#cbd5e1;">Rekam jejak keputusan, notulensi, dan tindak lanjut rapat.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openMeetModal()" style="background: linear-gradient(135deg, #334155 0%, #475569 100%); box-shadow: 0 4px 15px rgba(71, 85, 105, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-note-pencil"></i> Catat Rapat
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchMeet" placeholder="Cari topik / peserta..." oninput="renderMeeting()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpMeetFilter" onchange="renderMeeting()">
                            <option value="newest">Jadwal Terdekat</option>
                            <option value="needs_action">Ada Action Items</option>
                            <hr>
                            <option value="type_internal">Internal</option>
                            <option value="type_client">Client</option>
                            <option value="stat_scheduled">Akan Datang</option>
                            <option value="stat_completed">Selesai</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="meetContainer" class="cards-grid"></div>
        </div>
       <div id="page-journal" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #fb7185, #fbbf24); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Daily Journal.</h1>
                <p style="color:#fda4af;">Abadikan setiap momen, emosi, dan pencapaian hari ini.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openJournalModal()" style="background: linear-gradient(135deg, #f43f5e 0%, #fb923c 100%); box-shadow: 0 4px 15px rgba(251, 146, 60, 0.4);">
                        <i class="ph ph-plus-circle"></i> Write Journal
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchJournal" placeholder="Cari cerita..." oninput="renderJournals()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpJournalFilter" onchange="renderJournals()">
                            <option value="newest">Waktu: Terbaru</option>
                            <option value="oldest">Waktu: Terlama</option>
                            <hr>
                            <option value="imp_very">Sifat: Sangat Penting</option>
                            <option value="imp_yes">Sifat: Penting</option>
                            <hr>
                            <option value="stat_done">Status: Selesai</option>
                            <option value="stat_doing">Status: Dilakukan</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="journalsContainer" class="cards-grid">
                </div>
        </div>
        <div id="page-notulensi" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #22d3ee, #3b82f6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Meeting Minutes.</h1>
                <p style="color:#94a3b8;">Dokumentasikan setiap keputusan dan langkah strategis rapat.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openNotulensiModal()" style="background: linear-gradient(135deg, #0e7490 0%, #1d4ed8 100%); box-shadow: 0 4px 15px rgba(14, 116, 144, 0.4);">
                        <i class="ph ph-plus-circle"></i> New Note
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchNotulensi" placeholder="Cari notulensi..." oninput="renderNotulensi()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpNotulensiFilter" onchange="renderNotulensi()">
                            <option value="newest">Waktu: Terbaru</option>
                            <option value="oldest">Waktu: Terlama</option>
                            <hr>
                            <option value="imp_very">Penting: Sangat Penting</option>
                            <option value="stat_done">Status: Selesai</option>
                            <option value="stat_progress">Status: Berlangsung</option>
                            <option value="type_internal">Jenis: Internal</option>
                            <option value="type_external">Jenis: Eksternal</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="notulensiContainer" class="cards-grid"></div>
        </div>
        <div id="page-lomba" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #fbbf24, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Competition Tracker.</h1>
                <p style="color:#d8b4fe;">Kelola jadwal, target, dan pencapaian kompetisimu.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openLombaModal()" style="background: linear-gradient(135deg, #7c3aed 0%, #db2777 100%); box-shadow: 0 4px 15px rgba(219, 39, 119, 0.4);">
                        <i class="ph ph-plus-circle"></i> New Competition
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);  min-width: 360px;">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchLomba" placeholder="Cari lomba..." oninput="renderLomba()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpLombaFilter" onchange="renderLomba()">
                            <option value="newest">Waktu: Terbaru</option>
                            <option value="oldest">Waktu: Terlama</option>
                            <hr>
                            <option value="imp_very">Penting: Sangat Penting</option>
                            <option value="stat_active">Status: Berjalan</option>
                            <option value="stat_won">Hasil: Menang</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="lombaContainer" class="cards-grid"></div>
        </div>
        <div id="page-sport" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #84cc16, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Sports Schedule.</h1>
                <p style="color:#a3e635;">Jadwalkan latihanmu, bangun tubuh dan mental yang kuat.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openSportModal()" style="background: linear-gradient(135deg, #65a30d 0%, #0891b2 100%); box-shadow: 0 4px 15px rgba(132, 204, 22, 0.4);">
                        <i class="ph ph-plus-circle"></i> New Schedule
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05); min-width: 450px;">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchSport" placeholder="Cari jadwal latihan..." oninput="renderSport()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpSportFilter" onchange="renderSport()">
                            <option value="newest">Waktu: Terbaru</option>
                            <option value="oldest">Waktu: Terlama</option>
                            <hr>
                            <option value="imp_very">Penting: Sangat Penting</option>
                            <option value="stat_doing">Status: Sedang Dilakukan</option>
                            <option value="con_outdoor">Konsep: Outdoor</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="sportContainer" class="cards-grid"></div>
        </div>
        <div id="page-food" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #f97316, #ec4899); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Meal Planner.</h1>
                <p style="color:#fdba74;">Atur asupan nutrisi dan nikmati setiap gigitan.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openFoodModal()" style="background: linear-gradient(135deg, #ea580c 0%, #db2777 100%); box-shadow: 0 4px 15px rgba(234, 88, 12, 0.4);">
                        <i class="ph ph-plus-circle"></i> Catat Makanan
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);min-width: 440px;">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchFood" placeholder="Cari menu makanan..." oninput="renderFood()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpFoodFilter" onchange="renderFood()">
                            <option value="newest">Waktu: Terbaru</option>
                            <option value="oldest">Waktu: Terlama</option>
                            <hr>
                            <option value="rate_high">Rating: Tinggi (5⭐)</option>
                            <option value="stat_done">Status: Selesai Makan</option>
                            <option value="type_healthy">Kategori: Sehat</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="foodContainer" class="cards-grid"></div>
        </div>
        <div id="page-vacation" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #2dd4bf, #d946ef); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Holiday Planner.</h1>
                <p style="color:#f0abfc;">Rencanakan petualangan, ciptakan kenangan tak terlupakan.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openVacationModal()" style="background: linear-gradient(135deg, #0d9488 0%, #c026d3 100%); box-shadow: 0 4px 15px rgba(13, 148, 136, 0.4);">
                        <i class="ph ph-plus-circle"></i> Plan Trip
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchVacation" placeholder="Cari destinasi..." oninput="renderVacation()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpVacationFilter" onchange="renderVacation()">
                            <option value="newest">Waktu: Terbaru</option>
                            <option value="oldest">Waktu: Terlama</option>
                            <hr>
                            <option value="rate_high">Rating: Tinggi (5⭐)</option>
                            <option value="stat_done">Status: Selesai</option>
                            <option value="cat_beach">Kategori: Pantai</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="vacationContainer" class="cards-grid"></div>
        </div>
        <div id="page-worship" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #facc15, #818cf8); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Spiritual Journey.</h1>
                <p style="color:#e0e7ff;">Jaga koneksi spiritual dan ketenangan batin setiap hari.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openWorshipModal()" style="background: linear-gradient(135deg, #ca8a04 0%, #4f46e5 100%); box-shadow: 0 4px 15px rgba(202, 138, 4, 0.4);">
                        <i class="ph ph-plus-circle"></i> Catat Ibadah
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchWorship" placeholder="Cari aktivitas ibadah..." oninput="renderWorship()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpWorshipFilter" onchange="renderWorship()">
                            <option value="newest">Waktu: Terbaru</option>
                            <option value="oldest">Waktu: Terlama</option>
                            <hr>
                            <option value="stat_done">Status: Selesai</option>
                            <option value="type_wajib">Jenis: Wajib</option>
                            <option value="khusyuk_high">Kekhusyukan: Tinggi</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="worshipContainer" class="cards-grid"></div>
        </div>
        <div id="page-project" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #94a3b8, #818cf8); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Project Dashboard.</h1>
                <p style="color:#cbd5e1;">Kelola tim, pantau progres, dan capai target tepat waktu.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openProjectModal()" style="background: linear-gradient(135deg, #334155 0%, #4f46e5 100%); box-shadow: 0 4px 15px rgba(51, 65, 85, 0.4);">
                        <i class="ph ph-plus-circle"></i> New Project
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchProject" placeholder="Cari proyek..." oninput="renderProject()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpProjectFilter" onchange="renderProject()">
                            <option value="newest">Update: Terbaru</option>
                            <option value="deadline">Deadline: Terdekat</option>
                            <hr>
                            <option value="stat_progress">Status: Dilakukan</option>
                            <option value="cat_it">Kategori: IT/App</option>
                            <option value="prog_high">Progress > 80%</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="projectContainer" class="cards-grid"></div>
        </div>
        <div id="page-watchlist" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #991b1b, #b91c1c, #fca5a5); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">My Watchlist.</h1>
                <p style="color:#fecaca;">Koleksi film, series, dan tontonan favorit Anda.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openWatchModal()" style="background: linear-gradient(135deg, #450a0a 0%, #7f1d1d 100%); box-shadow: 0 4px 15px rgba(127, 29, 29, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-popcorn"></i> Add Title
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchWatch" placeholder="Cari judul film / series..." oninput="renderWatchlist()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpWatchFilter" onchange="renderWatchlist()">
                            <option value="newest">Terbaru Ditambahkan</option>
                            <option value="rating_high">Rating Tertinggi</option>
                            <hr>
                            <option value="stat_watching">Sedang Ditonton</option>
                            <option value="stat_plan">Plan to Watch</option>
                            <option value="type_movie">Hanya Film</option>
                            <option value="type_series">Hanya Series</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="watchContainer" class="cards-grid"></div>
        </div>
        <div id="page-education" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #38bdf8, #818cf8); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Learning Hub.</h1>
                <p style="color:#bae6fd;">Kelola jadwal belajar, tugas, dan pengembangan dirimu.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openEducationModal()" style="background: linear-gradient(135deg, #0284c7 0%, #4f46e5 100%); box-shadow: 0 4px 15px rgba(2, 132, 199, 0.4);">
                        <i class="ph ph-plus-circle"></i> New Activity
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchEducation" placeholder="Cari materi / tugas..." oninput="renderEducation()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpEducationFilter" onchange="renderEducation()">
                            <option value="newest">Waktu: Terbaru</option>
                            <option value="oldest">Waktu: Terlama</option>
                            <hr>
                            <option value="stat_todo">Status: Belum Dimulai</option>
                            <option value="cat_college">Kategori: Kuliah</option>
                            <option value="diff_hard">Kesulitan: Sulit</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="educationContainer" class="cards-grid"></div>
        </div>
        <div id="page-business" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #94a3b8, #e2e8f0); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Business Intelligence.</h1>
                <p style="color:#cbd5e1;">Pantau strategi, operasional, dan pertumbuhan bisnis secara real-time.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openBusinessModal()" style="background: linear-gradient(135deg, #1e293b 0%, #475569 100%); box-shadow: 0 4px 15px rgba(30, 41, 59, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-briefcase"></i> New Activity
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05); min-width: 440px;">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchBusiness" placeholder="Cari aktivitas bisnis..." oninput="renderBusiness()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpBusinessFilter" onchange="renderBusiness()">
                            <option value="newest">Waktu: Terbaru</option>
                            <option value="deadline">Deadline: Terdekat</option>
                            <hr>
                            <option value="imp_very">Penting: Sangat Penting</option>
                            <option value="impact_pos">Dampak: Positif</option>
                            <option value="stat_prog">Status: Dilakukan</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="businessContainer" class="cards-grid"></div>
        </div>
        <div id="page-finance" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #10b981, #fbbf24); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Wealth Management.</h1>
                <p style="color:#d1fae5;">Kelola arus kas, aset, dan pengeluaran untuk mencapai kebebasan finansial.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openFinanceModal()" style="background: linear-gradient(135deg, #064e3b 0%, #d97706 100%); box-shadow: 0 4px 15px rgba(6, 78, 59, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-plus-circle"></i> Catat Transaksi
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchFinance" placeholder="Cari transaksi..." oninput="renderFinance()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpFinanceFilter" onchange="renderFinance()">
                            <option value="newest">Waktu: Terbaru</option>
                            <option value="oldest">Waktu: Terlama</option>
                            <hr>
                            <option value="type_income">Tipe: Pemasukan</option>
                            <option value="type_expense">Tipe: Pengeluaran</option>
                            <option value="stat_pending">Status: Pending</option>
                            <option value="high_value">Nominal > 1 Juta</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="financeContainer" class="cards-grid"></div>
        </div>
        <div id="page-subscription" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #a855f7, #f472b6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Subscription Tracker.</h1>
                <p style="color:#e9d5ff;">Pantau layanan berbayar, kelola siklus tagihan, dan hemat pengeluaran.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openSubModal()" style="background: linear-gradient(135deg, #581c87 0%, #c026d3 100%); box-shadow: 0 4px 15px rgba(192, 38, 211, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-plus-circle"></i> Add Service
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchSub" placeholder="Cari layanan (Netflix, dll)..." oninput="renderSubscription()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpSubFilter" onchange="renderSubscription()">
                            <option value="next_bill">Tagihan: Terdekat</option>
                            <option value="highest_cost">Biaya: Tertinggi</option>
                            <hr>
                            <option value="stat_active">Status: Aktif</option>
                            <option value="cycle_monthly">Siklus: Bulanan</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="subContainer" class="cards-grid"></div>
        </div>
        <div id="page-investment" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #0ea5e9, #22c55e); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Investment Portfolio.</h1>
                <p style="color:#bae6fd;">Lacak pertumbuhan aset dan maksimalkan keuntungan masa depan.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openInvestModal()" style="background: linear-gradient(135deg, #0369a1 0%, #15803d 100%); box-shadow: 0 4px 15px rgba(3, 105, 161, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-plus-circle"></i> Add Asset
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchInvest" placeholder="Cari aset (BBCA, BTC, dll)..." oninput="renderInvestment()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpInvestFilter" onchange="renderInvestment()">
                            <option value="highest_profit">Profit Tertinggi</option>
                            <option value="lowest_profit">Loss Terbesar</option>
                            <hr>
                            <option value="type_stock">Tipe: Saham</option>
                            <option value="type_crypto">Tipe: Crypto</option>
                            <option value="stat_holding">Status: Holding</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="investContainer" class="cards-grid"></div>
        </div>
        <div id="page-skill" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #22d3ee, #3b82f6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Skill Upgrade.</h1>
                <p style="color:#cffafe;">Pantau progres belajar, tingkatkan level, dan kuasai keahlian baru.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openSkillModal()" style="background: linear-gradient(135deg, #0891b2 0%, #2563eb 100%); box-shadow: 0 4px 15px rgba(8, 145, 178, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-plus-circle"></i> Add Skill
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchSkill" placeholder="Cari skill (Python, English)..." oninput="renderSkill()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpSkillFilter" onchange="renderSkill()">
                            <option value="newest">Update: Terbaru</option>
                            <option value="progress_high">Progress > 50%</option>
                            <hr>
                            <option value="lvl_beginner">Level: Beginner</option>
                            <option value="lvl_expert">Level: Expert</option>
                            <option value="cat_coding">Kategori: Coding</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="skillContainer" class="cards-grid"></div>
        </div>
        <div id="page-certification" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #f59e0b, #fffbeb); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Credentials.</h1>
                <p style="color:#fde68a;">Database sertifikasi profesional, lisensi, dan kursus keahlian.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openCertModal()" style="background: linear-gradient(135deg, #451a03 0%, #b45309 100%); box-shadow: 0 4px 15px rgba(180, 83, 9, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-medal"></i> Add Certificate
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchCert" placeholder="Cari sertifikat (Google, AWS)..." oninput="renderCertification()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpCertFilter" onchange="renderCertification()">
                            <option value="newest">Terbaru Terbit</option>
                            <option value="expiring_soon">Segera Kadaluarsa</option>
                            <hr>
                            <option value="issuer_google">Penerbit: Google</option>
                            <option value="stat_active">Status: Aktif</option>
                            <option value="stat_expired">Status: Expired</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="certContainer" class="cards-grid"></div>
        </div>
        <div id="page-content" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #f97316, #db2777, #8b5cf6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Creator Studio.</h1>
                <p style="color:#fbcfe8;">Rencanakan konten, kelola jadwal tayang, dan bangun audiensmu.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openContentModal()" style="background: linear-gradient(135deg, #c2410c 0%, #be185d 50%, #7c3aed 100%); box-shadow: 0 4px 15px rgba(219, 39, 119, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-plus-circle"></i> New Post
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchContent" placeholder="Cari ide konten / caption..." oninput="renderContent()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpContentFilter" onchange="renderContent()">
                            <option value="newest">Jadwal: Terdekat</option>
                            <option value="stat_idea">Status: Ide</option>
                            <option value="stat_posted">Status: Posted</option>
                            <hr>
                            <option value="plat_tiktok">Platform: TikTok</option>
                            <option value="plat_ig">Platform: Instagram</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="contentContainer" class="cards-grid"></div>
        </div>
        <div id="page-video_ideas" class="content-section hidden">
            <header class="header">
                <h1 style="background: linear-gradient(to right, #ef4444, #f87171, #fee2e2); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Content Lab.</h1>
                <p style="color:#fecaca;">Gudang premis, scripting hook, dan strategi viralitas.</p>
                
                <div class="actions" style="display: flex; flex-wrap: wrap; align-items: center; gap: 1rem; margin-top: 2rem;">
                     <button class="btn-primary" onclick="openVideoModal()" style="background: linear-gradient(135deg, #7f1d1d 0%, #dc2626 100%); box-shadow: 0 4px 15px rgba(220, 38, 38, 0.4); border:1px solid rgba(255,255,255,0.1);">
                        <i class="ph ph-film-strip"></i> Draft Script
                     </button>
                     
                     <div class="search-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-magnifying-glass search-icon"></i>
                        <input type="text" id="inpSearchVideo" placeholder="Cari premis / hook..." oninput="renderVideoIdeas()">
                     </div>

                     <div class="filter-box-wrapper" style="background: rgba(255,255,255,0.05);">
                        <i class="ph ph-faders filter-icon"></i>
                        <select id="inpVideoFilter" onchange="renderVideoIdeas()">
                            <option value="newest">Terbaru</option>
                            <option value="duration_short">Durasi: Shorts/Reels</option>
                            <option value="duration_long">Durasi: Long Video</option>
                            <hr>
                            <option value="stat_raw">Status: Ide Mentah</option>
                            <option value="stat_ready">Status: Siap Shoot</option>
                        </select>
                    </div>
                </div>
            </header>

            <div id="videoContainer" class="cards-grid"></div>
        </div>
        <div class="modal-overlay" id="eventModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #4a044e, #2e1065); border: 1px solid rgba(232, 121, 249, 0.3); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="eventModalTitle" style="color: #e879f9;">Plan Event</h3>
                <button class="btn-icon" onclick="closeEventModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="eventForm">
                    <input type="hidden" id="eventId">
                    
                    <h4 class="form-section-title" style="color:#e879f9; border-color:rgba(232, 121, 249, 0.3);">Konsep Acara</h4>
                    <div class="form-group"><label>Nama Acara</label><input type="text" id="inpEvName" placeholder="Contoh: Sweet 17th Party" required></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Jenis Acara</label><select id="inpEvType"></select> </div>
                        <div class="form-group"><label>Lokasi / Venue</label><input type="text" id="inpEvLoc" placeholder="Hotel, Rumah, Outdoor..."></div>
                    </div>

                    <h4 class="form-section-title" style="color:#f472b6; border-color:rgba(244, 114, 182, 0.3); margin-top:1.5rem;">Logistik</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal Acara</label><input type="date" id="inpEvDate"></div>
                        <div class="form-group"><label>Jam Mulai</label><input type="time" id="inpEvTime"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Jumlah Tamu (Pax)</label><input type="number" id="inpEvGuest" placeholder="0"></div>
                        <div class="form-group"><label>Status Persiapan</label><select id="inpEvStatus"><option>Concepting</option><option>Booking Vendors</option><option>Ready</option><option>Completed</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#c084fc; border-color:rgba(192, 132, 252, 0.3); margin-top:1.5rem;">Budgeting & Vendor</h4>
                    <div class="form-group"><label>Total Budget (Estimasi)</label><input type="number" id="inpEvBudget" placeholder="Rp 0"></div>
                    <div class="form-group"><label>Daftar Vendor (Katering, Dekor, dll)</label><textarea id="inpEvVendors" style="height:80px;" placeholder="Tulis list vendor di sini..."></textarea></div>
                </form>

                <div id="eventDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(232, 121, 249, 0.3); background:#4a044e; position:relative;">
                        <img id="viewEvCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; left:20px; background:rgba(0,0,0,0.7); padding:8px 16px; border-radius:20px; border:1px solid #e879f9; backdrop-filter:blur(5px); display:flex; align-items:center; gap:8px;">
                            <i class="ph ph-calendar-check" style="color:#f472b6; font-size:1.2rem;"></i>
                            <span id="viewEvDateBadge" style="color:#fff; font-size:1.1rem; font-weight:800;">-</span>
                        </div>
                        
                        <div style="position:absolute; top:20px; right:20px; background:rgba(219, 39, 119, 0.8); padding:5px 15px; border-radius:20px; color:white; font-weight:bold; font-size:0.9rem;">
                            <span id="viewEvCountdown">- Hari Lagi</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(232, 121, 249, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewEvType" class="badge-pill-event-type"></span>
                                    <span id="viewEvStatus" class="badge-pill-event-stat"></span>
                                </div>
                                <h2 id="viewEvName" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #f472b6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#fbcfe8; font-size:1rem; margin-top:0.5rem; font-weight:500;">
                                    <i class="ph ph-map-pin"></i> <span id="viewEvLoc"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewEvGuest" style="font-weight:800; color:#e879f9; font-size:1.3rem;">0</div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">TAMU UNDANGAN</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid-box" style="border-color:rgba(219, 39, 119, 0.3); background:rgba(80, 7, 36, 0.3); grid-template-columns: 1fr 1fr;">
                        <div>
                            <small style="color:#fbcfe8;">Estimasi Budget</small>
                            <div id="viewEvBudget" style="color:#fff; font-size:1.2rem; font-weight:bold;">Rp 0</div>
                        </div>
                        <div>
                            <small style="color:#fbcfe8;">Jam Mulai</small>
                            <div id="viewEvTime" style="color:#fff; font-size:1.2rem; font-weight:bold;">-</div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="margin-top:1.5rem; background:transparent; border:1px dashed rgba(232, 121, 249, 0.3);">
                         <div class="detail-section-label" style="color:#e879f9;"><i class="ph ph-storefront"></i> Vendors & Notes</div>
                         <p id="viewEvVendors" class="detail-text-content" style="color:#f5d0fe; white-space:pre-line;"></p>
                    </div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#9ca3af; display:flex; justify-content:space-between;">
                        <span id="viewEvCreated"></span>
                        <span id="viewEvUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(232, 121, 249, 0.2); margin-top:auto;">
                <div id="eventFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeEventModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveEvent()" style="background: linear-gradient(135deg, #be185d, #a21caf);">Create Event</button>
                </div>
                <div id="eventDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editEvent()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeEventModal()" style="background: linear-gradient(135deg, #be185d, #a21caf);">Close</button>
                </div>
            </div>
        </div>
    </div>
    </main>
    <div class="modal-overlay" id="educationModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #0c4a6e, #1e1b4b); border: 1px solid rgba(56, 189, 248, 0.2); max-width: 1000px;">
            
            <div class="modal-header">
                <h3 id="educationModalTitle" style="color: #38bdf8;">New Study Log</h3>
                <button class="btn-icon" onclick="closeEducationModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="educationForm">
                    <input type="hidden" id="educationId">
                    
                    <h4 class="form-section-title" style="color:#38bdf8; border-color:rgba(56, 189, 248, 0.3);">Informasi Aktivitas</h4>
                    <div class="form-group"><label>Judul Aktivitas</label><input type="text" id="inpETitle" placeholder="Contoh: Belajar Kalkulus II" required></div>
                    <div class="form-group"><label>Deskripsi Daily</label><textarea id="inpEDesc" style="height:60px;" placeholder="Ringkasan kegiatan belajar..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Nama Pemilik</label><input type="text" id="inpEOwner"></div>
                        <div class="form-group"><label>Kategori</label><select id="inpECat"></select> </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Mata Pelajaran / Topik</label><input type="text" id="inpESubject"></div>
                        <div class="form-group"><label>Pengajar / Narasumber</label><input type="text" id="inpETeacher"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#818cf8; border-color:rgba(129, 140, 248, 0.3); margin-top:1.5rem;">Waktu & Metode</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal</label><input type="date" id="inpEDate"></div>
                        <div class="form-group"><label>Waktu</label><input type="time" step="1" id="inpETime"></div>
                        <div class="form-group"><label>Durasi (Menit)</label><input type="number" id="inpEDur" placeholder="60"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Tipe (Individu/Kelompok)</label><select id="inpEGroup"><option>Individu</option><option>Kelompok</option></select></div>
                        <div class="form-group"><label>Metode</label><select id="inpEMethod"><option>Tatap Muka</option><option>Online</option><option>Hybrid</option><option>Mandiri</option></select></div>
                        <div class="form-group"><label>Media Pembelajaran</label><input type="text" id="inpEMedia" placeholder="Zoom / Buku / LMS"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#38bdf8; border-color:rgba(56, 189, 248, 0.3); margin-top:1.5rem;">Target & Status</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Status</label><select id="inpEStatus"><option>Belum Dimulai</option><option>Dilakukan</option><option>Selesai</option></select></div>
                        <div class="form-group"><label>Sifat</label><select id="inpEImp"><option>Penting</option><option>Sangat Penting</option><option>Tidak Penting</option></select></div>
                        <div class="form-group"><label>Kesulitan</label><select id="inpEDiff"><option>Sedang</option><option>Mudah</option><option>Sulit</option></select></div>
                    </div>
                    <div class="form-group"><label>Tujuan Pembelajaran</label><input type="text" id="inpEGoal"></div>
                    <div class="form-group"><label>Target Kompetensi</label><input type="text" id="inpETarget"></div>

                    <h4 class="form-section-title" style="color:#f472b6; border-color:rgba(244, 114, 182, 0.3); margin-top:1.5rem;">Progress & Evaluasi</h4>
                    <div class="form-group"><label>Progress Pemahaman (%)</label>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <input type="range" id="inpEProgressRange" min="0" max="100" value="0" oninput="document.getElementById('inpEProgressVal').innerText=this.value+'%'" style="flex:1;">
                            <span id="inpEProgressVal" style="color:#fff; font-weight:bold; width:40px;">0%</span>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Nilai / Hasil</label><input type="text" id="inpEScore" placeholder="A / 100"></div>
                        <div class="form-group"><label>Feedback Pengajar</label><input type="text" id="inpEFeedback"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#818cf8; border-color:rgba(129, 140, 248, 0.3); margin-top:1.5rem;">Jurnal & Masalah</h4>
                    <div class="form-group"><label>Media Journal (Refleksi)</label><textarea id="inpEJournal" style="height:60px;"></textarea></div>
                    <div class="form-row">
                        <div class="form-group"><label>Kendala</label><textarea id="inpEObstacle" style="height:50px;"></textarea></div>
                        <div class="form-group"><label>Solusi / Strategi</label><textarea id="inpESolution" style="height:50px;"></textarea></div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Link Dokumentasi</label><input type="text" id="inpELink"></div>
                        <div class="form-group"><label>Catatan Tambahan</label><input type="text" id="inpENotes"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#38bdf8; border-color:rgba(56, 189, 248, 0.3); margin-top:1.5rem;">Sub Aktivitas (Task Belajar)</h4>
                    <div class="dynamic-group" id="containerSubEducation">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countSubEducation" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateSubEducationFields()" style="background: linear-gradient(135deg, #0284c7, #4f46e5); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Add Task</button>
                        </div>
                        <div id="wrapperSubEducation" class="dynamic-wrapper"></div>
                    </div>
                </form>

                <div id="educationDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(56, 189, 248, 0.3); background:#0c4a6e; position:relative;">
                        <img id="viewECover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; left:20px; right:20px;">
                            <div style="display:flex; justify-content:space-between; color:white; font-size:0.8rem; margin-bottom:5px;">
                                <span>Pemahaman</span>
                                <span id="viewEProgressTxt" style="font-weight:bold;">0%</span>
                            </div>
                            <div style="width:100%; height:6px; background:rgba(0,0,0,0.5); border-radius:10px; overflow:hidden;">
                                <div id="viewEProgressBar" style="height:100%; width:0%; background:linear-gradient(90deg, #38bdf8, #818cf8);"></div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(56, 189, 248, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewEStatus" class="badge-pill-education-stat"></span>
                                    <span id="viewEGroup" class="badge-pill-education-type"></span>
                                </div>
                                <h2 id="viewETitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #38bdf8); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#a5b4fc; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-book-bookmark"></i> <span id="viewECat"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewEDay" style="font-weight:800; color:#7dd3fc; text-transform:uppercase; letter-spacing:1px; font-size:1.2rem;"></div>
                                <div style="font-size:0.75rem; color:#94a3b8; margin-top:5px;">SUBJECT: <span id="viewESubject" style="color:#fff;"></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid-box" style="border-color:rgba(56, 189, 248, 0.2); background:rgba(12, 74, 110, 0.6);">
                        <div><small>Tanggal</small><div id="viewEDate" class="text-white"></div></div>
                        <div><small>Waktu</small><div id="viewETime" class="text-highlight-azure"></div></div>
                        <div><small>Durasi</small><div id="viewEDur" class="text-white"></div></div>
                        
                        <div><small>Metode</small><div id="viewEMethod" class="text-white"></div></div>
                        <div><small>Pengajar</small><div id="viewETeacher" class="text-white"></div></div>
                        <div><small>Media</small><div id="viewEMedia" class="text-white"></div></div>

                        <div><small>Kesulitan</small><div id="viewEDiff" class="text-white"></div></div>
                        <div><small>Nilai</small><div id="viewEScore" class="text-highlight-pink"></div></div>
                        <div><small>Link</small><a id="viewELink" href="#" target="_blank" style="color:#38bdf8; text-decoration:underline;">Materi</a></div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#bae6fd;"><i class="ph ph-info"></i> Deskripsi Aktivitas</div>
                         <p id="viewEDesc" class="detail-text-content" style="color:#e0f2fe;"></p>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem; border-color:rgba(129, 140, 248, 0.3);">
                         <div class="detail-section-label" style="color:#818cf8;"><i class="ph ph-target"></i> Tujuan & Target</div>
                         <strong style="color:#a5b4fc; font-size:0.8rem;">TUJUAN:</strong>
                         <p id="viewEGoal" class="detail-text-content" style="color:#fff; margin-bottom:10px;"></p>
                         <strong style="color:#a5b4fc; font-size:0.8rem;">TARGET KOMPETENSI:</strong>
                         <p id="viewETarget" class="detail-text-content" style="color:#fff;"></p>
                    </div>

                    <div id="boxEducationProblem" class="detail-content-box" style="background:rgba(255,255,255,0.02); border:1px solid rgba(244, 114, 182, 0.2); margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#f472b6;"><i class="ph ph-clipboard-text"></i> Evaluasi & Feedback</div>
                         
                         <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-bottom:10px;">
                             <div>
                                 <strong style="color:#fca5a5; font-size:0.8rem;">KENDALA:</strong>
                                 <p id="viewEObstacle" class="detail-text-content" style="font-size:0.9rem;">-</p>
                             </div>
                             <div>
                                 <strong style="color:#86efac; font-size:0.8rem;">SOLUSI:</strong>
                                 <p id="viewESolution" class="detail-text-content" style="font-size:0.9rem;">-</p>
                             </div>
                         </div>
                         <strong style="color:#f9a8d4; font-size:0.8rem;">FEEDBACK PENGAJAR:</strong>
                         <p id="viewEFeedback" class="detail-text-content" style="color:#fff;">-</p>
                    </div>

                    <div class="detail-section-label" style="color:#7dd3fc; margin-top:1rem;"><i class="ph ph-notebook"></i> Journal & Refleksi</div>
                    <div class="education-journal-box">
                        <p id="viewEJournal" class="detail-text-content" style="font-style:italic; color:#e0f2fe;"></p>
                    </div>

                    <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(56, 189, 248, 0.3); margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#94a3b8;"><i class="ph ph-note-pencil"></i> Catatan Tambahan</div>
                         <p id="viewENotes" class="detail-text-content" style="color:#cbd5e1; font-size:0.9rem;"></p>
                    </div>

                    <h4 style="color:#38bdf8; margin-top:2rem; margin-bottom:1rem;">Sub Aktivitas (<span id="viewETaskCount">0</span>)</h4>
                    <div id="viewListSubEducation" style="display:flex; flex-direction:column; gap:1rem;"></div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#64748b; display:flex; justify-content:space-between;">
                        <span id="viewECreated"></span>
                        <span id="viewEUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(56, 189, 248, 0.2); margin-top:auto;">
                <div id="educationFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeEducationModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveEducation()" style="background: linear-gradient(135deg, #0284c7, #4f46e5);">Save Activity</button>
                </div>
                <div id="educationDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editEducation()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeEducationModal()" style="background: linear-gradient(135deg, #0284c7, #4f46e5);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="investModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #0c4a6e, #064e3b); border: 1px solid rgba(14, 165, 233, 0.2); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="investModalTitle" style="color: #38bdf8;">New Asset</h3>
                <button class="btn-icon" onclick="closeInvestModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="investForm">
                    <input type="hidden" id="investId">
                    
                    <h4 class="form-section-title" style="color:#38bdf8; border-color:rgba(56, 189, 248, 0.3);">Informasi Aset</h4>
                    <div class="form-group"><label>Nama Aset / Kode</label><input type="text" id="inpInvName" placeholder="Contoh: BBCA, Bitcoin, Emas Antam" required></div>
                    <div class="form-group"><label>Deskripsi / Strategi</label><textarea id="inpInvDesc" style="height:60px;" placeholder="Alasan membeli aset ini..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Jenis Aset</label><select id="inpInvType"><option>Saham</option><option>Crypto</option><option>Reksadana</option><option>Emas</option><option>Obligasi</option><option>P2P Lending</option><option>Properti</option><option>Lainnya</option></select></div>
                        <div class="form-group"><label>Platform / Broker</label><input type="text" id="inpInvPlatform" placeholder="Ajaib, Bibit, Indodax..."></div>
                    </div>

                    <h4 class="form-section-title" style="color:#4ade80; border-color:rgba(74, 222, 128, 0.3); margin-top:1.5rem;">Posisi & Harga</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Harga Beli (Avg)</label><input type="number" id="inpInvBuyPrice" placeholder="0"></div>
                        <div class="form-group"><label>Harga Saat Ini</label><input type="number" id="inpInvCurrPrice" placeholder="0"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Jumlah / Lot</label><input type="number" id="inpInvQty" placeholder="0" step="0.0001"></div>
                        <div class="form-group"><label>Satuan</label><select id="inpInvUnit"><option>Lot</option><option>Lembar</option><option>Coin</option><option>Gram</option><option>Unit</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#22c55e; border-color:rgba(34, 197, 94, 0.3); margin-top:1.5rem;">Return & Status</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Dividen / Bunga (Total)</label><input type="number" id="inpInvDiv" placeholder="0"></div>
                        <div class="form-group"><label>Status</label><select id="inpInvStatus"><option>Holding</option><option>Sold (TP)</option><option>Cut Loss</option><option>Watchlist</option></select></div>
                    </div>
                    <div class="form-group"><label>Target Harga Jual</label><input type="number" id="inpInvTarget" placeholder="0"></div>

                    <h4 class="form-section-title" style="color:#38bdf8; border-color:rgba(56, 189, 248, 0.3); margin-top:1.5rem;">Analisis & Dokumen</h4>
                    <div class="form-group"><label>Analisis Teknikal/Fundamental</label><textarea id="inpInvAnalysis" style="height:60px;"></textarea></div>
                    <div class="form-row">
                        <div class="form-group"><label>Link Chart/Berita</label><input type="text" id="inpInvLink"></div>
                        <div class="form-group"><label>Tanggal Beli Awal</label><input type="date" id="inpInvDate"></div>
                    </div>
                </form>

                <div id="investDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:200px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(14, 165, 233, 0.3); background:#0c4a6e; position:relative;">
                        <img id="viewInvCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; right:20px; background:rgba(0,0,0,0.7); padding:10px 20px; border-radius:30px; border:1px solid #4ade80; backdrop-filter:blur(5px);">
                            <span id="viewInvPnLBadge" style="color:#4ade80; font-size:1.2rem; font-weight:800; letter-spacing:1px;">+0%</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(14, 165, 233, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewInvType" class="badge-pill-invest-type"></span>
                                    <span id="viewInvStatus" class="badge-pill-invest-stat"></span>
                                </div>
                                <h2 id="viewInvName" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #38bdf8); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#7dd3fc; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-storefront"></i> <span id="viewInvPlatform"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewInvTotalVal" style="font-weight:800; color:#4ade80; font-size:1.3rem;">Rp 0</div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">TOTAL VALUE</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="background:linear-gradient(135deg, rgba(6, 78, 59, 0.4), rgba(16, 185, 129, 0.1)); border:1px solid rgba(34, 197, 94, 0.3); margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#4ade80;"><i class="ph ph-trend-up"></i> Performa Aset</div>
                         
                         <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px; margin-top:10px;">
                             <div>
                                 <small style="color:#94a3b8;">Harga Beli (Avg)</small>
                                 <div id="viewInvBuyPrice" style="color:#fff; font-weight:bold;">Rp 0</div>
                             </div>
                             <div>
                                 <small style="color:#94a3b8;">Harga Saat Ini</small>
                                 <div id="viewInvCurrPrice" style="color:#38bdf8; font-weight:bold;">Rp 0</div>
                             </div>
                             <div>
                                 <small style="color:#94a3b8;">Profit/Loss (Rp)</small>
                                 <div id="viewInvPnLRp" style="font-weight:bold;">Rp 0</div>
                             </div>
                             <div>
                                 <small style="color:#94a3b8;">Dividen Total</small>
                                 <div id="viewInvDiv" style="color:#fbbf24; font-weight:bold;">Rp 0</div>
                             </div>
                         </div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#38bdf8;"><i class="ph ph-strategy"></i> Strategi & Alasan</div>
                         <p id="viewInvDesc" class="detail-text-content" style="color:#bae6fd;"></p>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem; border-color:rgba(56, 189, 248, 0.3);">
                         <div class="detail-section-label" style="color:#7dd3fc;"><i class="ph ph-chart-bar"></i> Analisis & Target</div>
                         <strong style="color:#94a3b8; font-size:0.8rem;">TARGET JUAL:</strong>
                         <p id="viewInvTarget" class="detail-text-content" style="color:#fff; margin-bottom:10px;">Rp -</p>
                         <strong style="color:#94a3b8; font-size:0.8rem;">ANALISIS:</strong>
                         <p id="viewInvAnalysis" class="detail-text-content" style="color:#e0f2fe;">-</p>
                    </div>

                    <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(14, 165, 233, 0.3); margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#38bdf8;"><i class="ph ph-link"></i> Sumber Data</div>
                         <a id="viewInvLink" href="#" target="_blank" style="color:#7dd3fc; text-decoration:underline;">Lihat Chart</a>
                    </div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#9ca3af; display:flex; justify-content:space-between;">
                        <span id="viewInvCreated"></span>
                        <span id="viewInvUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(14, 165, 233, 0.2); margin-top:auto;">
                <div id="investFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeInvestModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveInvestment()" style="background: linear-gradient(135deg, #0369a1, #15803d);">Save Asset</button>
                </div>
                <div id="investDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editInvestment()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeInvestModal()" style="background: linear-gradient(135deg, #0369a1, #15803d);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="projectModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #0f172a, #312e81); border: 1px solid rgba(148, 163, 184, 0.2); max-width: 1000px;">
            
            <div class="modal-header">
                <h3 id="projectModalTitle" style="color: #cbd5e1;">New Project</h3>
                <button class="btn-icon" onclick="closeProjectModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="projectForm">
                    <input type="hidden" id="projectId">
                    
                    <h4 class="form-section-title" style="color:#94a3b8; border-color:rgba(148, 163, 184, 0.3);">Overview Proyek</h4>
                    <div class="form-group"><label>Nama Proyek</label><input type="text" id="inpPTitle" placeholder="Contoh: Website Redesign V2" required></div>
                    <div class="form-group"><label>Deskripsi (Daily Log)</label><textarea id="inpPDesc" style="height:60px;" placeholder="Ringkasan progres hari ini..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Pemilik Proyek</label><input type="text" id="inpPOwner"></div>
                        <div class="form-group"><label>Kategori</label><select id="inpPCat"></select> </div>
                    </div>

                    <h4 class="form-section-title" style="color:#818cf8; border-color:rgba(129, 140, 248, 0.3); margin-top:1.5rem;">Tim & Timeline</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal Mulai</label><input type="date" id="inpPDate"></div>
                        <div class="form-group"><label>Deadline Proyek</label><input type="date" id="inpPDeadline"></div>
                        <div class="form-group"><label>Waktu Update</label><input type="time" step="1" id="inpPTime"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Nama Tim</label><input type="text" id="inpPTeam" placeholder="Dev Team A"></div>
                        <div class="form-group"><label>Tipe Tim</label><select id="inpPGroup"><option>Individu</option><option>Kelompok</option></select></div>
                        <div class="form-group"><label>Estimasi Durasi (Hari)</label><input type="number" id="inpPDur" placeholder="30"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#94a3b8; border-color:rgba(148, 163, 184, 0.3); margin-top:1.5rem;">Scope & Status</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Status</label><select id="inpPStatus"><option>Belum Dimulai</option><option>Dilakukan</option><option>Selesai</option></select></div>
                        <div class="form-group"><label>Prioritas</label><select id="inpPImp"><option>Penting</option><option>Sangat Penting</option><option>Tidak Penting</option></select></div>
                        <div class="form-group"><label>Progress (%)</label>
                            <div style="display:flex; align-items:center; gap:10px;">
                                <input type="range" id="inpPProgressRange" min="0" max="100" value="0" oninput="document.getElementById('inpPProgressVal').innerText=this.value+'%'" style="flex:1;">
                                <span id="inpPProgressVal" style="color:#fff; font-weight:bold; width:40px;">0%</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group"><label>Tujuan Proyek</label><input type="text" id="inpPGoal"></div>
                    <div class="form-group"><label>Scope Proyek</label><textarea id="inpPScope" style="height:50px;"></textarea></div>
                    <div class="form-row">
                        <div class="form-group"><label>Deliverable Utama</label><input type="text" id="inpPDeliverable"></div>
                        <div class="form-group"><label>Anggaran (Rp)</label><input type="number" id="inpPBudget"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#ef4444; border-color:rgba(239, 68, 68, 0.3); margin-top:1.5rem;">Risiko & Kendala</h4>
                    <div class="form-group"><label>Risiko Proyek</label><input type="text" id="inpPRisk"></div>
                    <div class="form-row">
                        <div class="form-group"><label>Kendala</label><textarea id="inpPObstacle" style="height:50px;"></textarea></div>
                        <div class="form-group"><label>Solusi / Tindakan</label><textarea id="inpPSolution" style="height:50px;"></textarea></div>
                    </div>
                    
                    <h4 class="form-section-title" style="color:#818cf8; border-color:rgba(129, 140, 248, 0.3); margin-top:1rem;">Dokumentasi</h4>
                    <div class="form-group"><label>Media Journal (Catatan Progres)</label><textarea id="inpPJournal" style="height:60px;"></textarea></div>
                    <div class="form-row">
                        <div class="form-group"><label>Link Dokumentasi</label><input type="text" id="inpPLink"></div>
                        <div class="form-group"><label>Catatan Tambahan</label><input type="text" id="inpPNotes"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#94a3b8; border-color:rgba(148, 163, 184, 0.3); margin-top:1.5rem;">Task List / Sub Proyek</h4>
                    <div class="dynamic-group" id="containerSubProject">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countSubProject" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateSubProjectFields()" style="background: linear-gradient(135deg, #475569, #6366f1); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Add Task</button>
                        </div>
                        <div id="wrapperSubProject" class="dynamic-wrapper"></div>
                    </div>
                </form>

<div id="projectDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(148, 163, 184, 0.3); background:#0f172a; position:relative;">
                        <img id="viewPCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; left:20px; right:20px;">
                            <div style="display:flex; justify-content:space-between; color:white; font-size:0.8rem; margin-bottom:5px;">
                                <span>Total Progress</span>
                                <span id="viewPProgressTxt" style="font-weight:bold;">0%</span>
                            </div>
                            <div style="width:100%; height:8px; background:rgba(0,0,0,0.5); border-radius:10px; overflow:hidden;">
                                <div id="viewPProgressBar" style="height:100%; width:0%; background:linear-gradient(90deg, #818cf8, #38bdf8);"></div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(148, 163, 184, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewPStatus" class="badge-pill-project-stat"></span>
                                    <span id="viewPGroup" class="badge-pill-project-type"></span>
                                </div>
                                <h2 id="viewPTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #94a3b8); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#818cf8; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-hash"></i> <span id="viewPCat"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewPDay" style="font-weight:800; color:#cbd5e1; text-transform:uppercase; letter-spacing:1px; font-size:1.2rem;"></div>
                                <div style="font-size:0.75rem; color:#64748b; margin-top:5px;">DEADLINE: <span id="viewPDeadline" style="color:#ef4444;"></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid-box" style="border-color:rgba(148, 163, 184, 0.2); background:rgba(30, 41, 59, 0.6);">
                        <div><small>Mulai</small><div id="viewPDate" class="text-white"></div></div>
                        <div><small>Update Terakhir</small><div id="viewPTime" class="text-highlight-slate"></div></div>
                        <div><small>Tim</small><div id="viewPTeam" class="text-white"></div></div>
                        
                        <div><small>Pemilik</small><div id="viewPOwner" class="text-white"></div></div>
                        <div><small>Tujuan</small><div id="viewPGoal" class="text-white"></div></div>
                        <div><small>Durasi</small><div id="viewPDur" class="text-white"></div></div>

                        <div><small>Anggaran</small><div id="viewPBudget" class="text-white"></div></div>
                        <div><small>Risiko</small><div id="viewPRisk" style="color:#ef4444;"></div></div>
                        <div><small>Link</small><a id="viewPLink" href="#" target="_blank" style="color:#818cf8; text-decoration:underline;">Dokumen</a></div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#cbd5e1;"><i class="ph ph-info"></i> Deskripsi / Daily Log</div>
                         <p id="viewPDesc" class="detail-text-content" style="color:#e2e8f0;"></p>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem; border-color:rgba(129, 140, 248, 0.3);">
                         <div class="detail-section-label" style="color:#818cf8;"><i class="ph ph-target"></i> Scope Proyek</div>
                         <p id="viewPScope" class="detail-text-content" style="color:#cbd5e1;"></p>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem; border-color:rgba(56, 189, 248, 0.3);">
                         <div class="detail-section-label" style="color:#38bdf8;"><i class="ph ph-package"></i> Deliverables Utama</div>
                         <p id="viewPDeliverable" class="detail-text-content" style="color:#fff; font-weight:500;"></p>
                    </div>

                    <div id="boxProjectProblem" class="detail-content-box" style="background:rgba(239, 68, 68, 0.05); border:1px solid rgba(239, 68, 68, 0.2); margin-bottom:1rem; display:none;">
                         <div class="detail-section-label" style="color:#f87171;"><i class="ph ph-warning"></i> Kendala & Solusi</div>
                         <strong style="color:#fca5a5;">Masalah:</strong>
                         <p id="viewPObstacle" class="detail-text-content" style="margin-bottom:10px;"></p>
                         <strong style="color:#86efac;">Solusi:</strong>
                         <p id="viewPSolution" class="detail-text-content"></p>
                    </div>

                    <div class="detail-section-label" style="color:#a5b4fc; margin-top:1rem;"><i class="ph ph-notebook"></i> Media Journal</div>
                    <div class="project-journal-box">
                        <p id="viewPJournal" class="detail-text-content" style="font-style:italic; color:#e0e7ff;"></p>
                    </div>

                    <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(148, 163, 184, 0.3); margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#94a3b8;"><i class="ph ph-note-pencil"></i> Catatan Tambahan</div>
                         <p id="viewPNotes" class="detail-text-content" style="color:#cbd5e1; font-size:0.9rem;"></p>
                    </div>

                    <h4 style="color:#818cf8; margin-top:2rem; margin-bottom:1rem;">Task List (<span id="viewPTaskCount">0</span>)</h4>
                    <div id="viewListSubProject" style="display:flex; flex-direction:column; gap:1rem;"></div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#64748b; display:flex; justify-content:space-between;">
                        <span id="viewPCreated"></span>
                        <span id="viewPUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(148, 163, 184, 0.2); margin-top:auto;">
                <div id="projectFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeProjectModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveProject()" style="background: linear-gradient(135deg, #475569, #4f46e5);">Save Project</button>
                </div>
                <div id="projectDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editProject()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeProjectModal()" style="background: linear-gradient(135deg, #475569, #4f46e5);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="vacationModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #134e4a, #4a044e); border: 1px solid rgba(45, 212, 191, 0.2); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="vacationModalTitle" style="color: #5eead4;">New Holiday Plan</h3>
                <button class="btn-icon" onclick="closeVacationModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="vacationForm">
                    <input type="hidden" id="vacationId">
                    
                    <h4 class="form-section-title" style="color:#5eead4; border-color:rgba(94, 234, 212, 0.3);">Destinasi & Info Utama</h4>
                    <div class="form-group"><label>Judul Liburan</label><input type="text" id="inpVTitle" placeholder="Contoh: Staycation di Bandung" required></div>
                    <div class="form-group"><label>Deskripsi Daily</label><textarea id="inpVDesc" style="height:60px;" placeholder="Ringkasan kegiatan..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Nama Pemilik</label><input type="text" id="inpVOwner"></div>
                        <div class="form-group"><label>Kategori</label><select id="inpVCat"></select> </div>
                    </div>

                    <h4 class="form-section-title" style="color:#e879f9; border-color:rgba(232, 121, 249, 0.3); margin-top:1.5rem;">Waktu & Peserta</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal Liburan</label><input type="date" id="inpVDate"></div>
                        <div class="form-group"><label>Waktu Mulai</label><input type="time" step="1" id="inpVTime"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Tipe Kelompok</label><select id="inpVGroupType"><option>Individu</option><option>Kelompok</option></select></div>
                        <div class="form-group"><label>Jumlah Peserta</label><input type="number" id="inpVCount" placeholder="1"></div>
                        <div class="form-group"><label>Status</label><select id="inpVStatus"><option>Belum Dimulai</option><option>Dilakukan</option><option>Selesai</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#5eead4; border-color:rgba(94, 234, 212, 0.3); margin-top:1.5rem;">Logistik & Akomodasi</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Lokasi (Kota/Negara)</label><input type="text" id="inpVLoc" placeholder="Bali, Indonesia"></div>
                        <div class="form-group"><label>Tempat Utama</label><input type="text" id="inpVMainSpot" placeholder="Pantai Kuta"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Transportasi</label><input type="text" id="inpVTrans" placeholder="Pesawat / Mobil"></div>
                        <div class="form-group"><label>Akomodasi</label><input type="text" id="inpVAcc" placeholder="Hotel / Villa"></div>
                        <div class="form-group"><label>Estimasi Biaya (Rp)</label><input type="number" id="inpVCost" placeholder="1000000"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#e879f9; border-color:rgba(232, 121, 249, 0.3); margin-top:1.5rem;">Vibes & Jurnal</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Sifat Liburan</label><select id="inpVImp"><option>Penting</option><option>Sangat Penting</option><option>Tidak Penting</option></select></div>
                        <div class="form-group"><label>Tujuan</label><select id="inpVGoal"><option>Refreshing</option><option>Healing</option><option>Explore</option><option>Quality Time</option><option>Konten</option></select></div>
                        <div class="form-group"><label>Mood</label><select id="inpVMood"><option>Senang</option><option>Santai</option><option>Lelah</option><option>Antusias</option></select></div>
                    </div>
                    
                    <div class="form-group"><label>Media Journal (Cerita)</label><textarea id="inpVJournal" style="height:80px;"></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Link Dokumentasi</label><input type="text" id="inpVLink"></div>
                        <div class="form-group"><label>Rating (1-5)</label><input type="number" id="inpVRating" min="1" max="5"></div>
                    </div>
                    <div class="form-group"><label>Catatan Tambahan</label><input type="text" id="inpVNotes"></div>

                    <h4 class="form-section-title" style="color:#5eead4; border-color:rgba(94, 234, 212, 0.3); margin-top:1.5rem;">Sub Aktivitas (Itinerary)</h4>
                    <div class="dynamic-group" id="containerSubVacation">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countSubVacation" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateSubVacationFields()" style="background: linear-gradient(135deg, #0d9488, #c026d3); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Itinerary</button>
                        </div>
                        <div id="wrapperSubVacation" class="dynamic-wrapper"></div>
                    </div>
                </form>

                <div id="vacationDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:240px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(45, 212, 191, 0.3); background:#134e4a; position:relative;">
                        <img id="viewVCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        <div class="detail-badge-float" id="viewVRatingBadge" style="border-color:#fbbf24; color:#fbbf24;"></div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(45, 212, 191, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewVStatus" class="badge-pill-vacation-stat"></span>
                                    <span id="viewVGroup" class="badge-pill-vacation-type"></span>
                                </div>
                                <h2 id="viewVTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #5eead4); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#f0abfc; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-map-pin"></i> <span id="viewVLoc"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewVDay" style="font-weight:800; color:#fbbf24; text-transform:uppercase; letter-spacing:1px; font-size:1.2rem;"></div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">HARI</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid-box" style="border-color:rgba(45, 212, 191, 0.2); background:rgba(19, 78, 74, 0.6);">
                        <div><small>Tanggal</small><div id="viewVDate" class="text-white"></div></div>
                        <div><small>Waktu</small><div id="viewVTime" class="text-highlight-teal"></div></div>
                        <div><small>Kategori</small><div id="viewVCat" class="text-white"></div></div>
                        
                        <div><small>Main Spot</small><div id="viewVMainSpot" class="text-white"></div></div>
                        <div><small>Transport</small><div id="viewVTrans" class="text-white"></div></div>
                        <div><small>Akomodasi</small><div id="viewVAcc" class="text-white"></div></div>

                        <div><small>Biaya</small><div id="viewVCost" class="text-highlight-pink"></div></div>
                        <div><small>Peserta</small><div id="viewVCount" class="text-white"></div></div>
                        <div><small>Mood</small><div id="viewVMood" class="text-white"></div></div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1.5rem;">
                         <div class="detail-section-label"><i class="ph ph-info"></i> Ringkasan Kegiatan</div>
                         <p id="viewVDesc" class="detail-text-content" style="color:#e2e8f0;"></p>
                    </div>

                    <div class="detail-section-label" style="color:#e879f9;"><i class="ph ph-book-open-text"></i> Travel Journal</div>
                    <div class="vacation-journal-box">
                        <p id="viewVJournal" class="detail-text-content" style="font-style:italic; color:#f5d0fe;"></p>
                    </div>

                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:1rem; margin-bottom:1.5rem;">
                        <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(255,255,255,0.1);">
                            <div class="detail-section-label" style="color:#94a3b8;"><i class="ph ph-link"></i> Dokumentasi</div>
                            <a id="viewVLink" href="#" target="_blank" style="color:#2dd4bf; text-decoration:underline;">Buka Album/Drive</a>
                        </div>
                        <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(255,255,255,0.1);">
                            <div class="detail-section-label" style="color:#94a3b8;"><i class="ph ph-note"></i> Catatan</div>
                            <div id="viewVNotes" style="color:#cbd5e1;"></div>
                        </div>
                    </div>

                    <h4 style="color:#5eead4; margin-top:2rem; margin-bottom:1rem;">Itinerary / Aktivitas</h4>
                    <div id="viewListSubVacation" style="display:flex; flex-direction:column; gap:1rem;"></div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#94a3b8; display:flex; justify-content:space-between;">
                        <span id="viewVCreated"></span>
                        <span id="viewVUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(45, 212, 191, 0.2); margin-top:auto;">
                <div id="vacationFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeVacationModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveVacation()" style="background: linear-gradient(135deg, #0d9488, #c026d3);">Save Trip</button>
                </div>
                <div id="vacationDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editVacation()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeVacationModal()" style="background: linear-gradient(135deg, #0d9488, #c026d3);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="worshipModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #312e81, #451a03); border: 1px solid rgba(250, 204, 21, 0.2); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="worshipModalTitle" style="color: #facc15;">New Worship Log</h3>
                <button class="btn-icon" onclick="closeWorshipModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="worshipForm">
                    <input type="hidden" id="worshipId">
                    
                    <h4 class="form-section-title" style="color:#facc15; border-color:rgba(250, 204, 21, 0.3);">Aktivitas Utama</h4>
                    <div class="form-group"><label>Judul Ibadah</label><input type="text" id="inpWTitle" placeholder="Contoh: Sholat Subuh berjamaah" required></div>
                    <div class="form-group"><label>Deskripsi Daily</label><textarea id="inpWDesc" style="height:60px;" placeholder="Ringkasan aktivitas..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Nama Pemilik</label><input type="text" id="inpWOwner"></div>
                        <div class="form-group"><label>Kategori</label><select id="inpWCat"></select> </div>
                    </div>

                    <h4 class="form-section-title" style="color:#a5b4fc; border-color:rgba(165, 180, 252, 0.3); margin-top:1.5rem;">Waktu & Pelaksanaan</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal</label><input type="date" id="inpWDate"></div>
                        <div class="form-group"><label>Waktu</label><input type="time" step="1" id="inpWTime"></div>
                        <div class="form-group"><label>Durasi (Menit)</label><input type="number" id="inpWDur" placeholder="15"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Kelompok/Individu</label><select id="inpWGroupType"><option>Individu</option><option>Kelompok</option></select></div>
                        <div class="form-group"><label>Tempat</label><select id="inpWPlace"><option>Rumah</option><option>Tempat Ibadah</option><option>Online</option><option>Lainnya</option></select></div>
                        <div class="form-group"><label>Status</label><select id="inpWStatus"><option>Belum Dimulai</option><option>Dilakukan</option><option>Selesai</option></select></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Jenis Ibadah</label><select id="inpWType"><option>Wajib</option><option>Sunnah</option><option>Tambahan</option></select></div>
                        <div class="form-group"><label>Sifat</label><select id="inpWImp"><option>Sangat Penting</option><option>Penting</option><option>Tidak Penting</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#facc15; border-color:rgba(250, 204, 21, 0.3); margin-top:1.5rem;">Kualitas Spiritual</h4>
                    <div class="form-group"><label>Niat / Tujuan</label><input type="text" id="inpWGoal" placeholder="Mendekatkan diri..."></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Kondisi Hati</label><select id="inpWMood"><option>Tenang</option><option>Fokus</option><option>Lelah</option><option>Kurang Fokus</option></select></div>
                        <div class="form-group"><label>Kekhusyukan</label><select id="inpWSolemn"><option>Tinggi</option><option>Cukup</option><option>Rendah</option></select></div>
                    </div>
                    
                    <div class="form-group"><label>Bacaan / Materi</label><textarea id="inpWMaterial" style="height:60px;" placeholder="Ayat/Surat yang dibaca atau tema kajian..."></textarea></div>
                    <div class="form-group"><label>Pendamping (Jika Kelompok)</label><input type="text" id="inpWPartner"></div>

                    <h4 class="form-section-title" style="color:#a5b4fc; border-color:rgba(165, 180, 252, 0.3); margin-top:1.5rem;">Refleksi & Jurnal</h4>
                    <div class="form-group"><label>Jurnal Refleksi</label><textarea id="inpWJournal" style="height:80px;" placeholder="Apa yang dirasakan setelah ibadah..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Link Dokumentasi</label><input type="text" id="inpWLink"></div>
                        <div class="form-group"><label>Catatan Tambahan</label><input type="text" id="inpWNotes"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#facc15; border-color:rgba(250, 204, 21, 0.3); margin-top:1.5rem;">Rangkaian Ibadah</h4>
                    <div class="dynamic-group" id="containerSubWorship">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countSubWorship" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateSubWorshipFields()" style="background: linear-gradient(135deg, #ca8a04, #4f46e5); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Aktivitas</button>
                        </div>
                        <div id="wrapperSubWorship" class="dynamic-wrapper"></div>
                    </div>
                </form>

                <div id="worshipDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(250, 204, 21, 0.3); background:#312e81; position:relative;">
                        <img id="viewWCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        <div class="detail-badge-float" id="viewWSolemnBadge" style="border-color:#facc15; color:#facc15;"></div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(250, 204, 21, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewWStatus" class="badge-pill-worship-stat"></span>
                                    <span id="viewWType" class="badge-pill-worship-type"></span>
                                </div>
                                <h2 id="viewWTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #facc15); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#a5b4fc; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-moon-stars"></i> <span id="viewWCat"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewWDay" style="font-weight:800; color:#facc15; text-transform:uppercase; letter-spacing:1px; font-size:1.2rem;"></div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">HARI</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid-box" style="border-color:rgba(250, 204, 21, 0.2); background:rgba(49, 46, 129, 0.6);">
                        <div><small>Tanggal</small><div id="viewWDate" class="text-white"></div></div>
                        <div><small>Waktu</small><div id="viewWTime" class="text-highlight-gold"></div></div>
                        <div><small>Tempat</small><div id="viewWPlace" class="text-white"></div></div>
                        
                        <div><small>Niat</small><div id="viewWGoal" class="text-white"></div></div>
                        <div><small>Kondisi Hati</small><div id="viewWMood" class="text-white"></div></div>
                        <div><small>Durasi</small><div id="viewWDur" class="text-white"></div></div>

                       <div><small>Pendamping</small><div id="viewWPartner" class="text-white"></div></div>
                        <div><small>Link</small><a id="viewWLink" href="#" target="_blank" style="color:#818cf8; text-decoration:underline;">Buka</a></div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1.5rem; border:1px solid rgba(250, 204, 21, 0.15); background:rgba(255,255,255,0.02);">
                         <div class="detail-section-label" style="color:#facc15;"><i class="ph ph-book-open-text"></i> Bacaan / Materi</div>
                         <p id="viewWMaterial" class="detail-text-content" style="color:#fff; font-size:1rem;"></p>
                    </div>
                    <div class="detail-content-box" style="margin-bottom:1.5rem;">
                         <div class="detail-section-label"><i class="ph ph-info"></i> Ringkasan</div>
                         <p id="viewWDesc" class="detail-text-content" style="color:#e2e8f0;"></p>
                    </div>

                    <div class="detail-section-label" style="color:#facc15;"><i class="ph ph-sparkle"></i> Refleksi Ibadah</div>
                    <div class="worship-journal-box">
                        <p id="viewWJournal" class="detail-text-content" style="font-style:italic; color:#fef08a;"></p>
                    </div>

                    <div class="detail-content-box" style="border:1px dashed rgba(165, 180, 252, 0.3); background:transparent;">
                        <div class="detail-section-label" style="color:#a5b4fc;"><i class="ph ph-note"></i> Catatan Tambahan</div>
                        <p id="viewWNotes" class="detail-text-content" style="color:#cbd5e1; font-size:0.9rem;"></p>
                    </div>

                    <h4 style="color:#a5b4fc; margin-top:2rem; margin-bottom:1rem;">Rangkaian Ibadah</h4>
                    <div id="viewListSubWorship" style="display:flex; flex-direction:column; gap:1rem;"></div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#94a3b8; display:flex; justify-content:space-between;">
                        <span id="viewWCreated"></span>
                        <span id="viewWUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(250, 204, 21, 0.2); margin-top:auto;">
                <div id="worshipFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeWorshipModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveWorship()" style="background: linear-gradient(135deg, #ca8a04, #4f46e5);">Save Log</button>
                </div>
                <div id="worshipDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editWorship()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeWorshipModal()" style="background: linear-gradient(135deg, #ca8a04, #4f46e5);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="foodModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #431407, #831843); border: 1px solid rgba(249, 115, 22, 0.2); max-width: 900px;">
            
            <div class="modal-header">
                <h3 id="foodModalTitle" style="color: #fdba74;">New Meal Log</h3>
                <button class="btn-icon" onclick="closeFoodModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="foodForm">
                    <input type="hidden" id="foodId">
                    
                    <h4 class="form-section-title" style="color:#fdba74; border-color:rgba(253, 186, 116, 0.3);">Menu & Deskripsi</h4>
                    <div class="form-group"><label>Judul Makan</label><input type="text" id="inpFTitle" placeholder="Contoh: Sarapan Bubur Ayam" required></div>
                    <div class="form-group"><label>Deskripsi Daily</label><textarea id="inpFDesc" style="height:60px;" placeholder="Catatan singkat aktivitas makan..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Nama Pemilik</label><input type="text" id="inpFOwner"></div>
                        <div class="form-group"><label>Kategori (Jenis)</label><select id="inpFCat"></select> </div>
                    </div>

                    <h4 class="form-section-title" style="color:#fdba74; border-color:rgba(253, 186, 116, 0.3); margin-top:1.5rem;">Waktu & Tempat</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal Makan</label><input type="date" id="inpFDate"></div>
                        <div class="form-group"><label>Waktu Makan</label><input type="time" step="1" id="inpFTime"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Tempat Makan</label><select id="inpFPlace"><option>Rumah</option><option>Kantin</option><option>Restoran</option><option>Cafe</option><option>Online Delivery</option><option>Street Food</option></select></div>
                        <div class="form-group"><label>Jenis Kelompok</label><select id="inpFGroup"><option>Individu</option><option>Kelompok</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fdba74; border-color:rgba(253, 186, 116, 0.3); margin-top:1.5rem;">Detail & Mood</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Menu Utama</label><input type="text" id="inpFMenu" placeholder="Nasi Goreng..."></div>
                        <div class="form-group"><label>Minuman</label><input type="text" id="inpFDrink" placeholder="Es Teh..."></div>
                        <div class="form-group"><label>Porsi</label><select id="inpFPortion"><option>Sedang</option><option>Kecil</option><option>Besar</option></select></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Status</label><select id="inpFStatus"><option>Belum Dimulai</option><option>Dimakan</option><option>Selesai</option></select></div>
                        <div class="form-group"><label>Sifat Makan</label><select id="inpFImp"><option>Penting</option><option>Sangat Penting</option><option>Tidak Penting</option></select></div>
                        <div class="form-group"><label>Tujuan</label><select id="inpFGoal"><option>Kenyang</option><option>Diet</option><option>Energi</option><option>Sosial</option><option>Kesehatan</option></select></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Mood</label><select id="inpFMood"><option>Biasa</option><option>Senang</option><option>Lelah</option><option>Stres</option></select></div>
                        <div class="form-group"><label>Rating (1-5)</label><input type="number" id="inpFRating" min="1" max="5" placeholder="5"></div>
                    </div>

                    <div class="form-group"><label>Media Journal (Cerita)</label><textarea id="inpFJournal" style="height:60px;"></textarea></div>
                    <div class="form-row">
                        <div class="form-group"><label>Link Dokumentasi</label><input type="text" id="inpFLink"></div>
                        <div class="form-group"><label>Catatan Tambahan</label><input type="text" id="inpFNotes"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#f472b6; border-color:rgba(244, 114, 182, 0.3); margin-top:1.5rem;">Sub Aktivitas Makan</h4>
                    <div class="dynamic-group" id="containerSubFood">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countSubFood" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateSubFoodFields()" style="background: linear-gradient(135deg, #f97316, #ec4899); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Add Activity</button>
                        </div>
                        <div id="wrapperSubFood" class="dynamic-wrapper"></div>
                    </div>
                </form>

                <div id="foodDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(249, 115, 22, 0.3); background:#431407; position:relative;">
                        <img id="viewFCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        <div class="detail-badge-float" id="viewFRatingBadge" style="border-color:#fbbf24; color:#fbbf24;"></div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(249, 115, 22, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewFStatus" class="badge-pill-food-stat"></span>
                                    <span id="viewFPlace" class="badge-pill-food-type"></span>
                                </div>
                                <h2 id="viewFTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #fdba74); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#f472b6; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-fork-knife"></i> <span id="viewFCat"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewFDay" style="font-weight:800; color:#fbbf24; text-transform:uppercase; letter-spacing:1px; font-size:1.2rem;"></div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">HARI</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid-box" style="border-color:rgba(249,115,22,0.2); background:rgba(67, 20, 7, 0.6);">
                        <div><small>Tanggal</small><div id="viewFDate" class="text-white"></div></div>
                        <div><small>Waktu</small><div id="viewFTime" class="text-highlight-orange"></div></div>
                        <div><small>Tujuan</small><div id="viewFGoal" class="text-white"></div></div>
                        
                        <div><small>Pemilik</small><div id="viewFOwner" class="text-white"></div></div>
                        <div><small>Mood</small><div id="viewFMood" class="text-white"></div></div>
                        <div><small>Porsi</small><div id="viewFPortion" class="text-white"></div></div>

                        <div><small>Menu</small><div id="viewFMenu" class="text-white"></div></div>
                        <div><small>Minuman</small><div id="viewFDrink" class="text-white"></div></div>
                        <div><small>Link</small><a id="viewFLink" href="#" target="_blank" style="color:#f472b6; text-decoration:underline;">Lihat</a></div>
                    </div>

                   <div class="detail-content-box" style="margin-bottom:1.5rem;">
                        <div class="detail-section-label"><i class="ph ph-info"></i> Deskripsi Singkat</div>
                        <p id="viewFDesc" class="detail-text-content" style="color:#e2e8f0;"></p>
                    </div>

                    <div class="detail-section-label" style="color:#f472b6;"><i class="ph ph-notebook"></i> Food Journal</div>
                    <div class="food-journal-box">
                        <p id="viewFJournal" class="detail-text-content" style="font-style:italic; color:#fbcfe8;"></p>
                    </div>

                    <div class="detail-content-box" style="border:1px dashed rgba(148, 163, 184, 0.3); background:transparent;">
                        <div class="detail-section-label" style="color:#94a3b8;"><i class="ph ph-note-pencil"></i> Catatan Tambahan</div>
                        <p id="viewFNotes" class="detail-text-content" style="color:#cbd5e1; font-size:0.9rem;"></p>
                    </div>

                    <h4 style="color:#f472b6; margin-top:2rem; margin-bottom:1rem;">Proses / Aktivitas</h4>
                    <div id="viewListSubFood" style="display:flex; flex-direction:column; gap:1rem;"></div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#94a3b8; display:flex; justify-content:space-between;">
                        <span id="viewFCreated"></span>
                        <span id="viewFUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(249, 115, 22, 0.2); margin-top:auto;">
                <div id="foodFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeFoodModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveFood()" style="background: linear-gradient(135deg, #ea580c, #db2777);">Save Meal</button>
                </div>
                <div id="foodDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editFood()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeFoodModal()" style="background: linear-gradient(135deg, #ea580c, #db2777);">Close</button>
                </div>
            </div>
        </div>
    </div>
<div class="modal-overlay" id="lombaModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #1e1b4b, #4c1d95); border: 1px solid rgba(167, 139, 250, 0.2); max-width: 900px;">
            
            <div class="modal-header">
                <h3 id="lombaModalTitle" style="color: #c084fc;">New Competition</h3>
                <button class="btn-icon" onclick="closeLombaModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="lombaForm">
                    <input type="hidden" id="lombaId">
                    
                    <h4 class="form-section-title">Informasi Dasar</h4>
                    <div class="form-group"><label>Judul Lomba</label><input type="text" id="inpLTitle" placeholder="Nama resmi kompetisi..." required></div>
                    <div class="form-group"><label>Deskripsi Lomba</label><textarea id="inpLDesc" style="height:60px;" placeholder="Penjelasan singkat..."></textarea></div>
                    <div class="form-row">
                        <div class="form-group"><label>Penyelenggara</label><input type="text" id="inpLOrganizer" placeholder="Nama Instansi/Org"></div>
                        <div class="form-group"><label>Bidang Lomba</label>
                            <select id="inpLField">
                                <option>IT & Tech</option><option>Bisnis & Ekonomi</option><option>Desain & Seni</option>
                                <option>Karya Tulis Ilmiah</option><option>Debat & Public Speaking</option><option>Akademik / Olimpiade</option>
                                <option>Olahraga</option><option>Videografi / Fotografi</option><option>Lainnya</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Kategori Peserta</label><select id="inpLCat"><option>Individu</option><option>Kelompok</option></select></div>
                        <div class="form-group"><label>Tingkat Kepentingan</label><select id="inpLImp"><option>Sangat Penting</option><option>Penting</option><option>Tidak Penting</option></select></div>
                        <div class="form-group"><label>Target Hasil</label><select id="inpLTarget"><option>Menang (Juara)</option><option>Finalis</option><option>Sertifikat</option><option>Pengalaman</option></select></div>
                    </div>

                    <h4 class="form-section-title">Timeline & Deadline</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal Mulai</label><input type="date" id="inpLStart"></div>
                        <div class="form-group"><label>Tanggal Akhir</label><input type="date" id="inpLEnd"></div>
                        <div class="form-group"><label>Durasi (Teks)</label><input type="text" id="inpLDuration" placeholder="Misal: 3 Hari"></div>
                    </div>
                    <div class="form-row" style="background:rgba(255,255,255,0.05); padding:10px; border-radius:8px;">
                        <div class="form-group"><label style="color:#f472b6;">Deadline Pendaftaran</label><input type="date" id="inpLDeadDate"></div>
                        <div class="form-group"><label style="color:#f472b6;">Waktu Deadline</label><input type="time" step="1" id="inpLDeadTime"></div>
                    </div>

                    <h4 class="form-section-title">Status & Tim</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Status Lomba</label><select id="inpLStatus"><option>Belum Dibuka</option><option>Pendaftaran</option><option>Berjalan</option><option>Selesai</option><option>Gugur</option></select></div>
                        <div class="form-group"><label>Tahap Saat Ini</label><select id="inpLStage"><option>Pendaftaran</option><option>Penyisihan</option><option>Semifinal</option><option>Final</option></select></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Nama Tim</label><input type="text" id="inpLTeamName" placeholder="Nama Tim (Jika ada)"></div>
                        <div class="form-group"><label>Jumlah Anggota</label><input type="number" id="inpLTeamCount" placeholder="1"></div>
                        <div class="form-group"><label>Peran Saya</label><select id="inpLRole"><option>Ketua</option><option>Anggota</option><option>Mentor</option></select></div>
                    </div>
                    <div class="form-group"><label>Nama Pemilik Lomba</label><input type="text" id="inpLOwner"></div>

                    <h4 class="form-section-title">Teknis & Dokumen</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Media Pengerjaan</label><select id="inpLMedia"><option>Online</option><option>Offline</option><option>Hybrid</option></select></div>
                        <div class="form-group"><label>Link Pendaftaran</label><input type="text" id="inpLLinkReg"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Link Dokumen (Guidebook)</label><input type="text" id="inpLLinkDoc"></div>
                        <div class="form-group"><label>Link Pengumpulan Karya</label><input type="text" id="inpLLinkSub"></div>
                    </div>
                    <div class="form-group"><label>Catatan Lomba</label><textarea id="inpLNotes" style="height:50px;"></textarea></div>

                    <h4 class="form-section-title">Sub Aktivitas Lomba</h4>
                    <div class="dynamic-group" id="containerSubLomba">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countSubLomba" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateSubLombaFields()" style="background: linear-gradient(135deg, #a855f7, #ec4899); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Add Activity</button>
                        </div>
                        <div id="wrapperSubLomba" class="dynamic-wrapper"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fbbf24; border-color:#fbbf24;">Submission</h4>
                    <div class="form-row" style="background:rgba(251, 191, 36, 0.05); padding:10px; border-radius:8px; border:1px solid rgba(251, 191, 36, 0.2);">
                        <div class="form-group">
                            <label>Status Submit?</label>
                            <div style="display:flex; gap:10px; align-items:center; margin-top:5px;">
                                <input type="checkbox" id="inpLIsSubmit" style="width:20px; height:20px;"> 
                                <span style="color:#d1d5db;">Sudah Submit</span>
                            </div>
                        </div>
                        <div class="form-group"><label>Tanggal Submit</label><input type="date" id="inpLDateSubmit"></div>
                    </div>
                    <h4 class="form-section-title" style="color:#fbbf24; border-color:#fbbf24; margin-top: 2.5rem;">Hasil Akhir Kejuaraan</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Hasil Lomba</label><select id="inpLResult"><option>Pending</option><option>Lolos</option><option>Finalis</option><option>Menang</option><option>Gugur</option></select></div>
                        <div class="form-group"><label>Peringkat</label><input type="text" id="inpLRank" placeholder="Contoh: Juara 1 / Top 10"></div>
                        <div class="form-group"><label>Reward / Hadiah</label><input type="text" id="inpLReward" placeholder="Rp... / Piala"></div>
                    </div>

                </form>

                <div id="lombaDetailView" class="hidden detail-view">
                    <div style="width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(167,139,250,0.3); background:#1e1b4b; position:relative;">
                        <img id="viewLCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        <div class="detail-badge-float" id="viewLResultBadge"></div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(167,139,250,0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewLStatus" class="badge-pill-status"></span>
                                    <span id="viewLStage" class="badge-pill-stage"></span>
                                </div>
                                <h2 id="viewLTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #e879f9); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#a78bfa; font-size:1rem; margin-top:0.5rem; font-weight:600;"><i class="ph ph-buildings"></i> <span id="viewLOrganizer"></span></div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewLImp" style="font-weight:800; color:#fbbf24; text-transform:uppercase; letter-spacing:1px;"></div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">IMPORTANCE</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid-box">
                        <div><small>Bidang</small><div id="viewLField" class="text-white"></div></div>
                        <div><small>Kategori</small><div id="viewLCat" class="text-white"></div></div>
                        <div><small>Target</small><div id="viewLTarget" class="text-highlight-gold"></div></div>

                        <div><small>Mulai</small><div id="viewLStart" class="text-white"></div></div>
                        <div><small>Selesai</small><div id="viewLEnd" class="text-white"></div></div>
                        <div><small>Durasi</small><div id="viewLDur" class="text-white"></div></div>

                        <div><small>Deadline Daftar</small><div id="viewLDead" class="text-highlight-pink"></div></div>
                        <div><small>Media</small><div id="viewLMedia" class="text-white"></div></div>
                        <div><small>Owner</small><div id="viewLOwner" class="text-white"></div></div>
                    </div>

                    <div class="detail-content-box">
                        <h4 class="box-label"><i class="ph ph-users-three"></i> Informasi Tim</h4>
                        <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:1rem;">
                            <div><small style="color:#64748b;">Nama Tim</small><div id="viewLTeamName" style="color:white;"></div></div>
                            <div><small style="color:#64748b;">Jumlah Anggota</small><div id="viewLTeamCount" style="color:white;"></div></div>
                            <div><small style="color:#64748b;">Peran Saya</small><div id="viewLRole" style="color:#e879f9;"></div></div>
                        </div>
                    </div>

                    <div class="detail-content-box">
                        <h4 class="box-label"><i class="ph ph-link"></i> Tautan Penting</h4>
                        <div style="display:flex; flex-direction:column; gap:8px;">
                            <a id="viewLLinkReg" href="#" target="_blank" class="link-styled"><i class="ph ph-pencil-simple"></i> Link Pendaftaran</a>
                            <a id="viewLLinkDoc" href="#" target="_blank" class="link-styled"><i class="ph ph-file-text"></i> Guidebook / Dokumen</a>
                            <a id="viewLLinkSub" href="#" target="_blank" class="link-styled"><i class="ph ph-upload-simple"></i> Pengumpulan Karya</a>
                        </div>
                    </div>

                    <div class="detail-content-box">
                        <h4 class="box-label"><i class="ph ph-info"></i> Deskripsi Lomba</h4>
                        <p id="viewLDesc" class="content-text"></p>
                    </div>
                    <div class="detail-content-box">
                        <h4 class="box-label"><i class="ph ph-note-pencil"></i> Catatan</h4>
                        <p id="viewLNotes" class="content-text" style="font-style:italic; color:#9ca3af;"></p>
                    </div>

                    <div class="detail-content-box highlight-box-gold">
                        <h4 class="box-label" style="color:#fbbf24;"><i class="ph ph-trophy"></i> Submission & Hasil</h4>
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:1rem; margin-bottom:1rem;">
                            <div><small style="color:#64748b;">Status Submit</small><div id="viewLIsSubmit"></div></div>
                            <div><small style="color:#64748b;">Tanggal Submit</small><div id="viewLDateSubmit" style="color:white;"></div></div>
                            <div><small style="color:#64748b;">Peringkat</small><div id="viewLRank" style="color:#fbbf24; font-weight:bold;"></div></div>
                            <div><small style="color:#64748b;">Reward</small><div id="viewLReward" style="color:white;"></div></div>
                        </div>
                    </div>

                    <h4 style="color:#d8b4fe; margin-top:2rem; margin-bottom:1rem;">Sub Aktivitas Lomba</h4>
                    <div id="viewListSubLomba" style="display:flex; flex-direction:column; gap:1rem;"></div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#64748b; display:flex; justify-content:space-between;">
                        <span id="viewLCreated"></span>
                        <span id="viewLUpdated"></span>
                    </div>

                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(167, 139, 250, 0.2); margin-top:auto;">
                <div id="lombaFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeLombaModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveLomba()" style="background: linear-gradient(135deg, #7c3aed, #db2777);">Save Competition</button>
                </div>
                <div id="lombaDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editLomba()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeLombaModal()" style="background: linear-gradient(135deg, #7c3aed, #db2777);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-box">
            <div class="modal-header">
                <h3 id="modalTitle">New Idea</h3>
                <button class="btn-icon" onclick="closeModal()"><i class="ph ph-x"></i></button>
            </div>

        <div class="modal-body">
    <form id="ideaForm">
        <input type="hidden" id="ideaId"> 

        <h4 style="margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem; color:#2dd4bf;">Core Information</h4>
        
        <div class="form-group">
            <label>Judul Ide / Tugas</label>
            <input type="text" id="inpTitle" placeholder="Contoh: Redesign UI Dashboard Life Ways" required>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>Kategori (50+ Pilihan)</label>
                <select id="inpCategory"></select>
            </div>
            <div class="form-group">
                <label>Kategori Tugas</label>
                <select id="inpTeamCat">
                    <option value="Individu">Individu</option>
                    <option value="Kelompok">Kelompok</option>
                    <option value="Organisasi">Organisasi</option>
                </select>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>Status Pengerjaan</label>
                <select id="inpStatus">
                    <option value="Belum Dimulai">Belum Dimulai</option>
                    <option value="Dikerjakan">Sedang Dikerjakan</option>
                    <option value="Sudah Selesai">Sudah Selesai</option>
                    <option value="Pending">Pending</option>
                </select>
            </div>
            <div class="form-group">
                <label>Sifat Tugas</label>
                <select id="inpImportance">
                    <option value="Tidak Penting">Tidak Penting</option>
                    <option value="Penting">Penting</option>
                    <option value="Sangat Penting">Sangat Penting</option>
                    <option value="Urgent">Urgent / Mendesak</option>
                </select>
            </div>
        </div>

        <h4 style="margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem; color:#2dd4bf;">Timeline & Location</h4>
        
        <div class="form-row">
            <div class="form-group">
        <label>Start Date</label>
        <input type="date" id="inpStartDate" required>
    </div>
    <div class="form-group">
        <label>Start Time (Jam:Mnt:Dtk)</label>
        <input type="time" step="1" id="inpStartTime" required> 
    </div>
            <div class="form-group">
                <label>Zona Waktu</label>
                <select id="inpTimezone">
                    <option value="WIB">WIB (Indonesia Barat)</option>
                    <option value="WITA">WITA (Indonesia Tengah)</option>
                    <option value="WIT">WIT (Indonesia Timur)</option>
                </select>
            </div>
        </div>

        <h4 style="margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem; color:#2dd4bf;">Technical Details</h4>

        <div class="form-row">
            <div class="form-group">
                <label>Jenis Tugas (Teks)</label>
                <input type="text" id="inpTaskType" placeholder="Misal: Coding, Research, Design">
            </div>
            <div class="form-group">
                <label>Media Pengerjaan</label>
                <input type="text" id="inpMedium" placeholder="Misal: Figma, VS Code, Google Docs">
            </div>
        </div>
<div class="form-row">
    <div class="form-group">
        <label>End Date</label>
        <input type="date" id="inpEndDate" required>
    </div>
    <div class="form-group">
        <label>End Time (Jam:Mnt:Dtk)</label>
        <input type="time" step="1" id="inpEndTime" required>
    </div>
</div>

<div class="form-row">
    <div class="form-group">
        <label>Pemilik Tugas (Owner)</label>
        <input type="text" id="inpOwner" placeholder="Nama Penanggung Jawab">
    </div>
    <div class="form-group">
        <label>Time Spent (Aktual)</label>
        <input type="text" id="inpTimeSpent" placeholder="Misal: 5 Jam 30 Menit">
    </div>
</div>

<div class="form-group">
    <label>Progress Penyelesaian (%)</label>
    <div style="display:flex; align-items:center; gap:10px;">
        <input type="range" id="inpProgressRange" min="0" max="100" value="0" oninput="document.getElementById('progressVal').innerText = this.value + '%'" style="flex:1;">
        <span id="progressVal" style="width:50px; text-align:right; font-weight:bold;">0%</span>
    </div>
</div>

<h4 style="margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem; color:#2dd4bf;">Work Stages</h4>
<div class="form-group" style="background: rgba(0,0,0,0.2); padding:1rem; border-radius:10px;">
    <label>Jumlah Stage yang dibutuhkan:</label>
    <div style="display:flex; gap:10px; margin-bottom:1rem;">
        <input type="number" id="inpStageCount" placeholder="0" style="width:80px;">
        <button type="button" onclick="generateStages()" style="background:var(--primary-grad); border:none; color:white; padding:0 1rem; border-radius:8px; cursor:pointer;">Buat Stage</button>
    </div>
    
    <div id="stageContainer" style="display:flex; flex-direction:column; gap:1rem;"></div>
</div>
        <div class="form-group">
            <label>Link Dokumentasi</label>
            <input type="url" id="inpDocLink" placeholder="https://docs.google.com/...">
        </div>

        <div class="form-group">
            <label>Deskripsi Lengkap</label>
            <textarea id="inpDesc" placeholder="Jelaskan detail tugas di sini..." style="height: 100px;"></textarea>
        </div>

        <div class="form-group">
            <label>Catatan Khusus</label>
            <textarea id="inpNotes" placeholder="Catatan tambahan (notes)..." style="height: 80px;"></textarea>
        </div>

        <h4 style="margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem; color:#2dd4bf;">Visual & Extras</h4>

        <div class="form-group">
            <label>Cover Image (Opsional)</label>
            <input type="url" id="inpImg" placeholder="Link gambar custom (kosongkan untuk auto-image dari kategori)">
            <small style="color:var(--text-muted); font-size: 0.75rem;">Jika kosong, gambar akan otomatis menyesuaikan kategori yang dipilih.</small>
        </div>

        
       <h4 style="margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem; color:#2dd4bf;">Informasi Tambahan (Opsional)</h4>
        
        <div class="form-group" style="background: rgba(0,0,0,0.2); padding:1rem; border-radius:10px;">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
                <label style="margin:0;">Jumlah Data Tambahan:</label>
                <div style="display:flex; gap:10px;">
                    <input type="number" id="inpCustomCount" placeholder="Jml" style="width:60px; text-align:center;">
                    <button type="button" onclick="generateCustomFields()" style="background:var(--primary-grad); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer; font-size:0.8rem;">+ Buat Form</button>
                </div>
            </div>
            
            <div id="customFieldsContainer" style="display:flex; flex-direction:column; gap:1rem;"></div>
        </div>
    </form>

    <div id="detailView" class="hidden detail-view">
      <img id="viewImg" src="" class="detail-img" onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1550684848-fac1c5b4e853?auto=format&fit=crop&w=800&q=80';">  
        <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:1rem;">
            <div>
                <h2 id="viewTitle" style="color:white; line-height:1.2;"></h2>
                <div style="margin-top:0.5rem; display:flex; gap:0.5rem; flex-wrap:wrap;">
                    <span id="viewCategoryBadge" style="background:var(--primary-grad); padding:4px 12px; border-radius:20px; font-size:0.8rem; font-weight:600;"></span>
                    <span id="viewStatusBadge" style="background:rgba(255,255,255,0.2); padding:4px 12px; border-radius:20px; font-size:0.8rem;"></span>
                    <span id="viewTeamBadge" style="border:1px solid rgba(255,255,255,0.3); padding:4px 12px; border-radius:20px; font-size:0.8rem;"></span>
                </div>
            </div>
            <div style="text-align:right;">
                <div id="viewImportance" style="color:#f59e0b; font-weight:700; text-transform:uppercase; font-size:0.9rem;"></div>
                <div id="viewTimezone" style="color:var(--text-muted); font-size:0.8rem;"></div>
            </div>
        </div>
        <div style="font-size:0.8rem; color:var(--text-muted); margin-bottom:1rem; display:flex; gap:1.5rem; border-bottom:1px dashed rgba(255,255,255,0.1); padding-bottom:1rem;">
    <span><i class="ph ph-user"></i> Owner: <b id="viewOwner" style="color:white;">-</b></span>
    <span><i class="ph ph-clock"></i> Created: <span id="viewCreated"></span></span>
    <span><i class="ph ph-pencil-simple"></i> Last Update: <span id="viewUpdated"></span></span>
</div>

<div style="background:rgba(255,255,255,0.05); padding:1rem; border-radius:12px; margin-bottom:1.5rem;">
    <div style="display:flex; justify-content:space-between; margin-bottom:0.5rem;">
        <small>Estimasi Durasi: <b id="viewDuration" style="color:#2dd4bf;">-</b></small>
        <small>Time Spent: <b id="viewTimeSpent">-</b></small>
    </div>
    
    <div style="height:10px; width:100%; background:rgba(0,0,0,0.3); border-radius:10px; overflow:hidden;">
        <div id="viewProgressBar" style="height:100%; background:var(--primary-grad); width:0%; transition:width 0.5s;"></div>
    </div>
    <div style="text-align:right; font-size:0.8rem; margin-top:4px;" id="viewProgressText">0% Completed</div>
</div>

<h4 style="color:#2dd4bf; margin-bottom:0.5rem;">Work Stages</h4>
<div id="viewStagesList" style="margin-bottom:1.5rem; display:flex; flex-direction:column; gap:10px;">
    </div>

        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:1.5rem; background:rgba(0,0,0,0.2); padding:1.5rem; border-radius:16px; margin-bottom:1.5rem;">
            <div>
                <small style="color:var(--text-muted);">Start Date</small>
                <div id="viewStartDate" style="font-weight:500;"></div>
            </div>
            <div>
                <small style="color:var(--text-muted);">End Date</small>
                <div id="viewEndDate" style="font-weight:500;"></div>
            </div>
            <div>
                <small style="color:var(--text-muted);">Jenis Tugas</small>
                <div id="viewTaskType"></div>
            </div>
            <div>
                <small style="color:var(--text-muted);">Media</small>
                <div id="viewMedium"></div>
            </div>
        </div>

        <h4 style="color:#2dd4bf; margin-bottom:0.5rem;">Description</h4>
        <p id="viewDesc" class="detail-content" style="margin-bottom:1.5rem;"></p>

        <h4 style="color:#2dd4bf; margin-bottom:0.5rem;">Notes</h4>
        <p id="viewNotes" style="background:rgba(255,255,255,0.05); padding:1rem; border-radius:10px; font-style:italic; color:#e0e7ff; margin-bottom:1.5rem;"></p>

    <div style="border-top:1px solid rgba(255,255,255,0.1); padding-top:1rem; margin-top:1.5rem;">
            <h4 style="color:#2dd4bf; margin-bottom:1rem;">Additional Information</h4>
            
            <div id="viewCustomFields" style="display:grid; grid-template-columns: 1fr 1fr; gap:1.5rem; font-size:0.9rem;">
                </div>
        </div>
        
        <div style="margin-top:1.5rem;">
            <a id="viewDocLink" href="#" target="_blank" style="color:#2dd4bf; text-decoration:none; display:flex; align-items:center; gap:5px;">
                <i class="ph ph-link"></i> Buka Link Dokumentasi
            </a>
        </div>
    </div>
</div>
            <div class="modal-footer">
                <div id="formActions">
                    <button type="button" class="btn-cancel" onclick="closeModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveIdea()">Save Idea</button>
                </div>
                <div id="detailActions" class="hidden">
                    <button type="button" class="btn-cancel" onclick="switchToEditMode()">Edit Content</button>
                    <button type="button" class="btn-save" onclick="closeModal()">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="planModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #1e1b4b, #312e81); border: 1px solid rgba(167, 139, 250, 0.2);">
            <div class="modal-header">
                <h3 id="planModalTitle" style="color: #a78bfa;">New Plan</h3>
                <button class="btn-icon" onclick="closePlanModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
               <form id="planForm">
    <input type="hidden" id="planId">
    
    <h4 style="color:#a78bfa; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Core Plan Info</h4>
    <div class="form-group">
        <label>Nama Rencana</label>
        <input type="text" id="inpPlanTitle" placeholder="Misal: Launching Q1" required>
    </div>
    
    <div class="form-row">
        <div class="form-group">
            <label>Kategori Perencanaan (50+ Opsi)</label>
            <select id="inpPlanCategory"></select> </div>
        <div class="form-group">
            <label>Status Plan</label>
            <select id="inpPlanStatus">
                <option value="Idea">Idea (Ide Awal)</option>
                <option value="Plan">Plan (Perencanaan)</option>
                <option value="Eksekusi">Eksekusi (Sedang Jalan)</option>
                <option value="Berhasil">Berhasil (Selesai)</option>
            </select>
        </div>
    </div>

    <h4 style="color:#a78bfa; margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Time & Technical</h4>
    <div class="form-row">
        <div class="form-group">
            <label>Start Date</label>
            <input type="date" id="inpPlanStart">
        </div>
        <div class="form-group">
            <label>Start Time</label>
            <input type="time" step="1" id="inpPlanStartTime">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group">
            <label>End Date</label>
            <input type="date" id="inpPlanEnd">
        </div>
        <div class="form-group">
            <label>End Time</label>
            <input type="time" step="1" id="inpPlanEndTime">
        </div>
    </div>
    
    <div class="form-row">
        <div class="form-group"><label>Owner</label><input type="text" id="inpPlanOwner"></div>
        <div class="form-group">
            <label>Prioritas</label>
            <select id="inpPlanPriority">
                <option value="Low">Low</option>
                <option value="Medium" selected>Medium</option>
                <option value="High">High</option>
                <option value="Urgent">Urgent</option>
            </select>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group"><label>Kategori Anggota</label><select id="inpPlanTeam"><option>Individu</option><option>Tim</option></select></div>
        <div class="form-group"><label>Media Perencanaan</label><input type="text" id="inpPlanMedia" placeholder="Trello, Notion..."></div>
    </div>
    <div class="form-group"><label>Jenis Perencanaan</label><input type="text" id="inpPlanType" placeholder="Strategis, Operasional..."></div>
    
    <div class="form-group">
        <label>Deskripsi Rencana</label>
        <textarea id="inpPlanDesc" placeholder="Jelaskan rencana secara umum..." style="height:80px;"></textarea>
    </div>
    
    <div class="form-group">
        <label>Catatan Tambahan</label>
        <textarea id="inpPlanNotes" style="height:60px;"></textarea>
    </div>

    <h4 style="color:#a78bfa; margin-top:1.5rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Goals (Target)</h4>
    <div class="dynamic-group" id="containerGoals">
        <div style="display:flex; gap:10px; margin-bottom:10px;">
            <input type="number" id="countGoals" placeholder="Jml" style="width:60px;">
            <button type="button" onclick="generateDynamicField('Goals')" class="btn-gen-purple">+ Buat</button>
        </div>
        <div id="wrapperGoals" class="dynamic-wrapper"></div>
    </div>

    <h4 style="color:#a78bfa; margin-top:1.5rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Impacts</h4>
    <div class="dynamic-group" id="containerImpacts">
        <div style="display:flex; gap:10px; margin-bottom:10px;">
            <input type="number" id="countImpacts" placeholder="Jml" style="width:60px;">
            <button type="button" onclick="generateDynamicField('Impacts')" class="btn-gen-purple">+ Buat</button>
        </div>
        <div id="wrapperImpacts" class="dynamic-wrapper"></div>
    </div>

    <h4 style="color:#a78bfa; margin-top:1.5rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Risks (Hambatan)</h4>
    <div class="dynamic-group" id="containerRisks">
        <div style="display:flex; gap:10px; margin-bottom:10px;">
            <input type="number" id="countRisks" placeholder="Jml" style="width:60px;">
            <button type="button" onclick="generateDynamicField('Risks')" class="btn-gen-purple">+ Buat</button>
        </div>
        <div id="wrapperRisks" class="dynamic-wrapper"></div>
    </div>

    <h4 style="color:#a78bfa; margin-top:1.5rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Mitigation</h4>
    <div class="dynamic-group" id="containerMitigation">
        <div style="display:flex; gap:10px; margin-bottom:10px;">
            <input type="number" id="countMitigation" placeholder="Jml" style="width:60px;">
            <button type="button" onclick="generateDynamicField('Mitigation')" class="btn-gen-purple">+ Buat</button>
        </div>
        <div id="wrapperMitigation" class="dynamic-wrapper"></div>
    </div>

    <h4 style="color:#a78bfa; margin-top:1.5rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Sub-Tugas (Detailed Tasks)</h4>
    <div class="dynamic-group" id="containerSubTasks">
        <div style="display:flex; gap:10px; margin-bottom:10px;">
            <input type="number" id="countSubTasks" placeholder="Jml" style="width:60px;">
            <button type="button" onclick="generateDynamicField('SubTasks')" class="btn-gen-purple">+ Buat</button>
        </div>
        <div id="wrapperSubTasks" class="dynamic-wrapper"></div>
    </div>
    
    <h4 style="color:#a78bfa; margin-top:1.5rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Milestones</h4>
    <div class="dynamic-group" id="containerMilestones">
        <div style="display:flex; gap:10px; margin-bottom:10px;">
            <input type="number" id="countMilestones" placeholder="Jml" style="width:60px;">
            <button type="button" onclick="generateDynamicField('Milestones')" class="btn-gen-purple">+ Buat</button>
        </div>
        <div id="wrapperMilestones" class="dynamic-wrapper"></div>
    </div>
</form>

                <div id="planDetailView" class="hidden detail-view">
                   <div style="width: 100%; height: 220px; border-radius: 16px; overflow: hidden; margin-bottom: 1.5rem; border: 1px solid rgba(167, 139, 250, 0.3); box-shadow: 0 10px 30px -10px rgba(0,0,0,0.3); background:#1e1b4b;">
        <img id="viewPlanCover" 
             src="" 
             style="width: 100%; height: 100%; object-fit: cover;" 
             onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&q=80';">
    </div>
    <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:1.5rem; border-bottom:1px solid rgba(167, 139, 250, 0.2); padding-bottom:1rem;">
        <div>
            <span id="viewPlanStatusBadge" style="font-size:0.75rem; font-weight:700; text-transform:uppercase; padding:4px 12px; border-radius:20px;"></span>
            <h2 id="viewPlanTitle" style="margin-top:0.8rem; font-size:1.8rem; line-height:1.2; background: linear-gradient(to right, #fff, #c4b5fd); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
            <div id="viewPlanCategory" style="color:#a78bfa; font-size:0.9rem; margin-top:0.3rem; letter-spacing:0.5px; text-transform:uppercase;"></div>
        </div>
        <div style="text-align:right;">
             <div id="viewPlanPriority" style="font-weight:700; color:#f87171; letter-spacing:1px; text-transform:uppercase;"></div>
        </div>
    </div>

    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:1.5rem; background:rgba(255,255,255,0.03); padding:1.2rem; border-radius:12px; border:1px solid rgba(167, 139, 250, 0.1); margin-bottom:1.5rem;">
        <div><small style="color:#64748b;">Owner</small><div id="viewPlanOwner" style="color:white;"></div></div>
        <div><small style="color:#64748b;">Team Type</small><div id="viewPlanTeam" style="color:white;"></div></div>
        <div><small style="color:#64748b;">Plan Type</small><div id="viewPlanType" style="color:white;"></div></div>
        <div><small style="color:#64748b;">Media</small><div id="viewPlanMedia" style="color:white;"></div></div>
        <div><small style="color:#64748b;">Start</small><div id="viewPlanStart" style="color:#a78bfa;"></div></div>
        <div><small style="color:#64748b;">End</small><div id="viewPlanEnd" style="color:#a78bfa;"></div></div>
    </div>

    <h4 style="color:#a78bfa; margin-bottom:0.5rem;">Description</h4>
    <p id="viewPlanDesc" style="color:#cbd5e1; line-height:1.6; text-align:justify; margin-bottom:1.5rem; white-space:pre-line;"></p>

    <h4 style="color:#a78bfa; margin-bottom:0.5rem;">Notes</h4>
    <div id="viewPlanNotes" style="background:rgba(255,255,255,0.05); padding:1rem; border-radius:8px; color:#cbd5e1; font-style:italic; margin-bottom:2rem;"></div>

    <h4 class="section-title-plan">Goals (Target)</h4>
    <div id="viewListGoals" class="dynamic-list-container"></div>

    <h4 class="section-title-plan">Impacts</h4>
    <div id="viewListImpacts" class="dynamic-list-container"></div>

    <h4 class="section-title-plan">Risks (Hambatan)</h4>
    <div id="viewListRisks" class="dynamic-list-container"></div>

    <h4 class="section-title-plan">Mitigation</h4>
    <div id="viewListMitigation" class="dynamic-list-container"></div>

    <h4 class="section-title-plan">Sub-Tasks & Progress</h4>
    <div id="viewListSubTasks" class="dynamic-list-container"></div>

    <h4 class="section-title-plan">Milestones</h4>
    <div id="viewListMilestones" class="dynamic-list-container"></div>

</div>

<style>
    /* CSS Tambahan Khusus Detail Plan */
    .section-title-plan { color: #a78bfa; margin-top: 2rem; margin-bottom: 1rem; border-bottom: 1px dashed rgba(167,139,250,0.3); padding-bottom: 0.5rem; }
    .dynamic-list-container { display: flex; flex-direction: column; gap: 1rem; }
</style>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(167, 139, 250, 0.2);">
                <div id="planFormActions">
                    <button type="button" class="btn-cancel" onclick="closePlanModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="savePlan()" style="background: linear-gradient(135deg, #6366f1, #a855f7);">Save Plan</button>
                </div>
                <div id="planDetailActions" class="hidden">
                    <button type="button" class="btn-cancel" onclick="editPlan()">Edit Plan</button>
                    <button type="button" class="btn-save" onclick="closePlanModal()" style="background: linear-gradient(135deg, #6366f1, #a855f7);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="readingModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #2a1205, #451a03); border: 1px solid rgba(217, 119, 6, 0.2); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="readingModalTitle" style="color: #fbbf24;">Book Entry</h3>
                <button class="btn-icon" onclick="closeReadingModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="readingForm">
                    <input type="hidden" id="readingId">
                    
                    <h4 class="form-section-title" style="color:#fbbf24; border-color:rgba(251, 191, 36, 0.3);">Informasi Buku</h4>
                    <div class="form-group"><label>Judul Buku</label><input type="text" id="inpRTitle" placeholder="Contoh: Atomic Habits" required></div>
                    <div class="form-group"><label>Penulis</label><input type="text" id="inpRAuthor" placeholder="Nama Penulis"></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Genre</label><select id="inpRGenre"></select> </div>
                        <div class="form-group"><label>Tahun Terbit</label><input type="number" id="inpRYear" placeholder="2024"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fdba74; border-color:rgba(253, 186, 116, 0.3); margin-top:1.5rem;">Progress Membaca</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Total Halaman</label><input type="number" id="inpRTotalPage" placeholder="0"></div>
                        <div class="form-group"><label>Halaman Saat Ini</label><input type="number" id="inpRCurrPage" placeholder="0"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Status Baca</label><select id="inpRStatus"><option>To Read</option><option>Reading</option><option>Finished</option><option>Dropped</option></select></div>
                        <div class="form-group"><label>Rating (1-5)</label><input type="number" id="inpRRating" min="1" max="5" placeholder="0"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fcd34d; border-color:rgba(252, 211, 77, 0.3); margin-top:1.5rem;">Resensi & Kutipan</h4>
                    <div class="form-group"><label>Quote Favorit</label><textarea id="inpRQuote" style="height:60px;" placeholder="Kutipan paling berkesan..."></textarea></div>
                    <div class="form-group"><label>Review / Catatan</label><textarea id="inpRReview" style="height:80px;" placeholder="Pendapatmu tentang buku ini..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Link E-book / Toko</label><input type="text" id="inpRLink"></div>
                        <div class="form-group"><label>Tanggal Mulai Baca</label><input type="date" id="inpRDate"></div>
                    </div>
                </form>

                <div id="readingDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(217, 119, 6, 0.3); background:#451a03; position:relative;">
                        <img id="viewRCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; left:20px; background:rgba(0,0,0,0.7); padding:8px 16px; border-radius:20px; border:1px solid #fbbf24; backdrop-filter:blur(5px);">
                            <span id="viewRPageBadge" style="color:#fbbf24; font-size:0.9rem; font-weight:bold;">0 / 0 Halaman</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(217, 119, 6, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewRStatus" class="badge-pill-reading-stat"></span>
                                    <span id="viewRGenre" class="badge-pill-reading-type"></span>
                                </div>
                                <h2 id="viewRTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #fbbf24); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#fed7aa; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-pen-nib"></i> <span id="viewRAuthor"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewRRating" style="font-size:1.2rem; color:#fbbf24;"></div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">RATING</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="background:linear-gradient(135deg, rgba(69, 26, 3, 0.6), rgba(120, 53, 15, 0.4)); border:1px solid rgba(217, 119, 6, 0.3); margin-bottom:1.5rem;">
                         <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                             <span style="color:#fbbf24; font-weight:bold;">Progress Membaca</span>
                             <span id="viewRProgressTxt" style="color:#fff; font-weight:bold;">0%</span>
                         </div>
                         <div style="width:100%; height:8px; background:rgba(255,255,255,0.1); border-radius:10px; overflow:hidden;">
                             <div id="viewRProgressBar" style="height:100%; width:0%; background:linear-gradient(90deg, #d97706, #fcd34d);"></div>
                         </div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1.5rem; background: rgba(255,255,255,0.03); border-left: 3px solid #fbbf24;">
                         <div class="detail-section-label" style="color:#fcd34d;"><i class="ph ph-quotes"></i> Quote Favorit</div>
                         <p id="viewRQuote" class="detail-text-content" style="font-family:'Georgia', serif; font-style:italic; color:#fffbf0; font-size:1.1rem; line-height:1.6;"></p>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem; border-color:rgba(180, 83, 9, 0.3);">
                         <div class="detail-section-label" style="color:#fdba74;"><i class="ph ph-article"></i> Review & Catatan</div>
                         <p id="viewRReview" class="detail-text-content" style="color:#fed7aa;"></p>
                    </div>

                    <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(217, 119, 6, 0.3);">
                         <div class="detail-section-label" style="color:#b45309;"><i class="ph ph-link"></i> Sumber</div>
                         <a id="viewRLink" href="#" target="_blank" style="color:#fbbf24; text-decoration:underline;">Link Buku</a>
                    </div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#9ca3af; display:flex; justify-content:space-between;">
                        <span id="viewRCreated"></span>
                        <span id="viewRUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(217, 119, 6, 0.2); margin-top:auto;">
                <div id="readingFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeReadingModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveReading()" style="background: linear-gradient(135deg, #78350f, #b45309);">Save Book</button>
                </div>
                <div id="readingDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editReading()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeReadingModal()" style="background: linear-gradient(135deg, #78350f, #b45309);">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="journalModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #450a0a, #7f1d1d); border: 1px solid rgba(251, 113, 133, 0.2);">
            <div class="modal-header">
                <h3 id="journalModalTitle" style="color: #fda4af;">New Journal Entry</h3>
                <button class="btn-icon" onclick="closeJournalModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="journalForm">
                    <input type="hidden" id="journalId">
                    
                    <h4 style="color:#fda4af; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Header Info</h4>
                    <div class="form-group">
                        <label>Judul Daily Journal</label>
                        <input type="text" id="inpJTitle" placeholder="Judul cerita hari ini..." required>
                    </div>

                    <div class="form-row">
                        <div class="form-group"><label>Nama Pemilik</label><input type="text" id="inpJOwner"></div>
                        <div class="form-group">
                            <label>Kategori (20 Pilihan)</label>
                            <select id="inpJCategory"></select> </div>
                    </div>

                    <h4 style="color:#fda4af; margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Waktu & Status</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal</label><input type="date" id="inpJDate"></div>
                        <div class="form-group"><label>Jam (Detik)</label><input type="time" step="1" id="inpJTime"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Kategori Tim</label>
                            <select id="inpJTeam"><option>Individu</option><option>Kelompok</option></select>
                        </div>
                        <div class="form-group">
                            <label>Status Journal</label>
                            <select id="inpJStatus">
                                <option value="Belum Dimulai">Belum Dimulai</option>
                                <option value="Dilakukan">Dilakukan</option>
                                <option value="Selesai">Selesai</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Sifat / Urgensi</label>
                        <select id="inpJPriority">
                            <option value="Sangat Penting">Sangat Penting</option>
                            <option value="Penting" selected>Penting</option>
                            <option value="Tidak Penting">Tidak Penting</option>
                        </select>
                    </div>

                    <h4 style="color:#fda4af; margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Konten & Media</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Media Journal</label><input type="text" id="inpJMedia" placeholder="Teks, Video, dll"></div>
                        <div class="form-group"><label>Link Dokumentasi</label><input type="text" id="inpJLink" placeholder="https://..."></div>
                    </div>
                    <div class="form-group">
                        <label>Deskripsi Daily Journal</label>
                        <textarea id="inpJDesc" placeholder="Tulis ceritamu di sini..." style="height:100px;"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Catatan Tambahan</label>
                        <textarea id="inpJNotes" style="height:60px;"></textarea>
                    </div>

                    <h4 style="color:#fda4af; margin-top:1.5rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Sub Daily Journal (Aktivitas)</h4>
                    <div class="dynamic-group" id="containerSubJournal">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countSubJournal" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateSubJournalFields()" style="background: linear-gradient(135deg, #f43f5e, #fb923c); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Generate</button>
                        </div>
                        <div id="wrapperSubJournal" class="dynamic-wrapper"></div>
                    </div>
                </form>

                <div id="journalDetailView" class="hidden detail-view">
                    <div style="width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(251,113,133,0.3); box-shadow:0 10px 30px -10px rgba(0,0,0,0.4); background:#450a0a;">
                        <img id="viewJCover" src="" style="width:100%; height:100%; object-fit:cover;" onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1517842645767-c639042777db?w=800&q=80';">
                    </div>

                    <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:1rem; border-bottom:1px solid rgba(251,113,133,0.2); padding-bottom:1rem;">
                        <div>
                            <span id="viewJStatusBadge"></span>
                            <h2 id="viewJTitle" style="margin-top:0.8rem; font-size:1.8rem; line-height:1.2; background: linear-gradient(to right, #fff, #fda4af); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                            <div id="viewJCategory" style="color:#fb7185; font-size:0.9rem; margin-top:0.3rem; letter-spacing:0.5px; text-transform:uppercase;"></div>
                        </div>
                        <div style="text-align:right;">
                             <div id="viewJPriority" style="font-weight:700; color:#fb923c; letter-spacing:1px; text-transform:uppercase;"></div>
                        </div>
                    </div>

                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:1.2rem; background:rgba(255,255,255,0.03); padding:1.2rem; border-radius:12px; border:1px solid rgba(251,113,133,0.1); margin-bottom:1.5rem;">
                        <div><small style="color:#9ca3af;">Owner</small><div id="viewJOwner" style="color:white;"></div></div>
                        <div><small style="color:#9ca3af;">Tim</small><div id="viewJTeam" style="color:white;"></div></div>
                        <div><small style="color:#9ca3af;">Media</small><div id="viewJMedia" style="color:white;"></div></div>
                        <div><small style="color:#9ca3af;">Link</small><a id="viewJLink" href="#" target="_blank" style="color:#fb7185;">Buka Link</a></div>
                        <div><small style="color:#9ca3af;">Date</small><div id="viewJDate" style="color:#fda4af;"></div></div>
                        <div><small style="color:#9ca3af;">Time</small><div id="viewJTime" style="color:#fda4af;"></div></div>
                    </div>

                    <h4 style="color:#fb7185; margin-bottom:0.5rem;">Story Description</h4>
                    <p id="viewJDesc" style="color:#e5e7eb; line-height:1.6; text-align:justify; margin-bottom:1.5rem; white-space:pre-line;"></p>

                    <h4 style="color:#fb7185; margin-bottom:0.5rem;">Notes</h4>
                    <div id="viewJNotes" style="background:rgba(255,255,255,0.05); padding:1rem; border-radius:8px; color:#d1d5db; font-style:italic; margin-bottom:2rem;"></div>

                    <h4 style="color:#fb7185; margin-bottom:1rem; border-bottom:1px dashed rgba(251,113,133,0.3); padding-bottom:0.5rem;">Sub Daily Journals (Aktivitas)</h4>
                    <div id="viewListSubJournal" style="display:flex; flex-direction:column; gap:1rem;"></div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(251, 113, 133, 0.2);">
                <div id="journalFormActions">
                    <button type="button" class="btn-cancel" onclick="closeJournalModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveJournal()" style="background: linear-gradient(135deg, #f43f5e, #fb923c);">Save Journal</button>
                </div>
                <div id="journalDetailActions" class="hidden">
                    <button type="button" class="btn-cancel" onclick="editJournal()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeJournalModal()" style="background: linear-gradient(135deg, #f43f5e, #fb923c);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="notulensiModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #0f172a, #1e3a8a); border: 1px solid rgba(56, 189, 248, 0.2); max-width: 800px;">
            <div class="modal-header">
                <h3 id="notulensiModalTitle" style="color: #38bdf8;">New Meeting Note</h3>
                <button class="btn-icon" onclick="closeNotulensiModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="notulensiForm">
                    <input type="hidden" id="notulensiId">
                    
                    <h4 style="color:#38bdf8; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">General Info</h4>
                    <div class="form-group">
                        <label>Judul Rapat</label>
                        <input type="text" id="inpNTitle" placeholder="Contoh: Evaluasi Q1 Marketing" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Jenis Rapat</label>
                            <select id="inpNType">
                                <option>Internal</option><option>Eksternal</option><option>Koordinasi</option><option>Evaluasi</option>
                                <option>Brainstorming</option><option>Briefing</option><option>Board Meeting</option><option>Darurat</option>
                                <option>Project Kickoff</option><option>Weekly Sync</option>
                            </select>
                        </div>
                        <div class="form-group"><label>Kategori (Divisi)</label>
                            <select id="inpNCategory"></select> </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Tipe Peserta</label><select id="inpNGroupType"><option>Kelompok</option><option>Individu</option></select></div>
                        <div class="form-group"><label>Sifat Rapat</label><select id="inpNNature"><option>Formal</option><option>Non-Formal</option></select></div>
                        <div class="form-group"><label>Tingkat Kepentingan</label><select id="inpNImportance"><option>Penting</option><option>Sangat Penting</option><option>Tidak Penting</option></select></div>
                    </div>

                    <h4 style="color:#38bdf8; margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">People</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Nama Notulis</label><input type="text" id="inpNNotulis"></div>
                        <div class="form-group"><label>Pimpinan Rapat</label><input type="text" id="inpNLeader"></div>
                    </div>
                    <div class="form-group">
                        <label>Daftar Peserta (Pisahkan koma)</label>
                        <input type="text" id="inpNParticipants" placeholder="Budi, Ani, Siti...">
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Total Peserta</label><input type="number" id="inpNCount" placeholder="0"></div>
                        <div class="form-group"><label>Status Notulensi</label><select id="inpNStatus"><option>Selesai</option><option>Berlangsung</option><option>Belum Dimulai</option></select></div>
                    </div>

                    <h4 style="color:#38bdf8; margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Time & Place</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal Rapat</label><input type="date" id="inpNDate"></div>
                        <div class="form-group"><label>Mulai</label><input type="time" step="1" id="inpNStart"></div>
                        <div class="form-group"><label>Selesai</label><input type="time" step="1" id="inpNEnd"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Media</label><select id="inpNMedia"><option>Offline</option><option>Zoom</option><option>GMeet</option><option>Teams</option></select></div>
                        <div class="form-group"><label>Lokasi / Platform Link</label><input type="text" id="inpNLocation"></div>
                    </div>
                    <div class="form-group"><label>Link Dokumentasi (Drive/Rec)</label><input type="text" id="inpNDocLink"></div>

                    <h4 style="color:#38bdf8; margin-top:1.5rem; margin-bottom:1rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Content</h4>
                    <div class="form-group"><label>Deskripsi Singkat</label><textarea id="inpNDesc" style="height:60px;"></textarea></div>
                    <div class="form-group"><label>Agenda Rapat</label><textarea id="inpNAgenda" placeholder="Poin-poin agenda..." style="height:80px;"></textarea></div>
                    <div class="form-group"><label>Hasil Pembahasan</label><textarea id="inpNResult" style="height:100px;"></textarea></div>
                    <div class="form-group"><label>Keputusan (Decision)</label><textarea id="inpNDecision" style="height:80px; border-color:#38bdf8;"></textarea></div>
                    <div class="form-group"><label>Catatan Tambahan</label><textarea id="inpNNotes" style="height:60px;"></textarea></div>

                    <h4 style="color:#38bdf8; margin-top:1.5rem; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:0.5rem;">Action Items (Tindak Lanjut)</h4>
                    <div class="dynamic-group" id="containerActionItems">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countActionItems" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateActionFields()" style="background: linear-gradient(135deg, #0ea5e9, #2563eb); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Add Item</button>
                        </div>
                        <div id="wrapperActionItems" class="dynamic-wrapper"></div>
                    </div>
                </form>

             <div id="notulensiDetailView" class="hidden detail-view">
                    
                    <div style="width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(56,189,248,0.3); background:#0f172a; box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);">
                        <img id="viewNCover" src="" style="width:100%; height:100%; object-fit:cover;">
                    </div>

                    <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:1.5rem; border-bottom:1px solid rgba(56,189,248,0.2); padding-bottom:1rem;">
                        <div style="flex:1;">
                            <div style="display:flex; gap:10px; margin-bottom:0.5rem;">
                                <span id="viewNStatusBadge"></span>
                                <span id="viewNTypeBadge"></span>
                            </div>
                            <h2 id="viewNTitle" style="margin-top:0.5rem; font-size:1.8rem; line-height:1.2; background: linear-gradient(to right, #fff, #7dd3fc); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                            <div style="display:flex; gap:10px; align-items:center; margin-top:0.5rem;">
                                <span id="viewNCategory" style="color:#38bdf8; font-size:0.9rem; font-weight:700; letter-spacing:0.5px; text-transform:uppercase;"></span>
                                <span style="color:#64748b;">•</span>
                                <span id="viewNNature" style="color:#94a3b8; font-size:0.9rem;"></span>
                            </div>
                        </div>
                        <div style="text-align:right;">
                             <div id="viewNImportance" style="font-weight:800; color:#facc15; letter-spacing:1px; text-transform:uppercase; font-size:1.2rem;"></div>
                             <div style="font-size:0.75rem; color:#64748b; margin-top:5px;">PRIORITY</div>
                        </div>
                    </div>

                    <div class="detail-grid-box">
                        <div><small>Tanggal Rapat</small><div id="viewNDate" class="text-highlight"></div></div>
                        <div><small>Waktu (Durasi)</small><div id="viewNTime" class="text-highlight"></div></div>
                        <div><small>Lokasi / Media</small><div id="viewNLoc" class="text-white"></div></div>
                        <div><small>Link Dokumen</small><a id="viewNDoc" href="#" target="_blank" class="link-styled">Buka Link</a></div>
                        
                        <div><small>Pimpinan Rapat</small><div id="viewNLeader" class="text-white"></div></div>
                        <div><small>Notulis</small><div id="viewNNotulis" class="text-white"></div></div>
                        <div><small>Total Peserta</small><div id="viewNCount" class="text-white"></div></div>
                        <div><small>Tipe Peserta</small><div id="viewNGroup" class="text-white"></div></div>
                    </div>

                    <div class="detail-content-box">
                        <h4 class="box-label"><i class="ph ph-users"></i> Daftar Peserta</h4>
                        <p id="viewNParticipants" style="color:#e2e8f0; line-height:1.6;"></p>
                    </div>

                    <div class="detail-content-box">
                        <h4 class="box-label"><i class="ph ph-text-align-left"></i> Deskripsi Singkat</h4>
                        <p id="viewNDesc" class="content-text"></p>
                    </div>

                    <div class="detail-content-box">
                        <h4 class="box-label"><i class="ph ph-list-numbers"></i> Agenda Rapat</h4>
                        <p id="viewNAgenda" class="content-text"></p>
                    </div>

                    <div class="detail-content-box">
                        <h4 class="box-label"><i class="ph ph-chats-circle"></i> Hasil Pembahasan</h4>
                        <p id="viewNResult" class="content-text"></p>
                    </div>

                    <div class="detail-content-box highlight-box">
                        <h4 class="box-label" style="color:#facc15;"><i class="ph ph-gavel"></i> Keputusan (Decision)</h4>
                        <p id="viewNDecision" class="content-text" style="color:#fff; font-weight:500;"></p>
                    </div>

                    <div class="detail-content-box">
                        <h4 class="box-label"><i class="ph ph-note"></i> Catatan Tambahan</h4>
                        <p id="viewNNotes" class="content-text" style="font-style:italic; color:#94a3b8;"></p>
                    </div>

                    <h4 style="color:#38bdf8; margin-top:2rem; margin-bottom:1rem; display:flex; align-items:center; gap:10px;">
                        <i class="ph ph-check-square"></i> Action Items / Tindak Lanjut
                    </h4>
                    <div id="viewListActionItems" style="display:flex; flex-direction:column; gap:1rem;"></div>
                
            </div>
             </div>
    

            <div class="modal-footer" style="border-top-color: rgba(56, 189, 248, 0.2);">
                <div id="notulensiFormActions">
                    <button type="button" class="btn-cancel" onclick="closeNotulensiModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveNotulensi()" style="background: linear-gradient(135deg, #0ea5e9, #2563eb);">Save Note</button>
                </div>
                <div id="notulensiDetailActions" class="hidden">
                    <button type="button" class="btn-cancel" onclick="editNotulensi()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeNotulensiModal()" style="background: linear-gradient(135deg, #0ea5e9, #2563eb);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="sportModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #064e3b, #164e63); border: 1px solid rgba(132, 204, 22, 0.2); max-width: 900px;">
            
            <div class="modal-header">
                <h3 id="sportModalTitle" style="color: #a3e635;">New Workout</h3>
                <button class="btn-icon" onclick="closeSportModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="sportForm">
                    <input type="hidden" id="sportId">
                    
                    <h4 class="form-section-title" style="color:#a3e635; border-color:rgba(163, 230, 53, 0.3);">Informasi Umum</h4>
                    <div class="form-group"><label>Judul Jadwal Olahraga</label><input type="text" id="inpSTitle" placeholder="Contoh: Leg Day Session" required></div>
                    <div class="form-group"><label>Deskripsi Jadwal</label><textarea id="inpSDesc" style="height:60px;" placeholder="Target latihan hari ini..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Nama Pemilik / Atlet</label><input type="text" id="inpSOwner"></div>
                        <div class="form-group"><label>Kategori Olahraga</label><select id="inpSCategory"></select> </div>
                    </div>

                    <h4 class="form-section-title" style="color:#a3e635; border-color:rgba(163, 230, 53, 0.3); margin-top:1.5rem;">Waktu & Pelaksanaan</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal Olahraga</label><input type="date" id="inpSDate"></div>
                        <div class="form-group"><label>Waktu (Jam:Menit)</label><input type="time" step="1" id="inpSTime"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Jenis Pelaksanaan</label><select id="inpSType"><option>Individu</option><option>Kelompok</option></select></div>
                        <div class="form-group"><label>Konsep</label><select id="inpSConcept"><option>Indoor</option><option>Outdoor</option></select></div>
                        <div class="form-group"><label>Lokasi</label><input type="text" id="inpSLoc" placeholder="Gym / Taman / Rumah"></div>
                    </div>

                    <div class="form-row" style="background:rgba(255,255,255,0.05); padding:10px; border-radius:8px; margin-top:1rem;">
                        <div class="form-group"><label>Status Jadwal</label><select id="inpSStatus"><option>Belum Dimulai</option><option>Sedang Dilakukan</option><option>Selesai</option><option>Dibatalkan</option></select></div>
                        <div class="form-group"><label>Tingkat Kepentingan</label><select id="inpSImp"><option>Sangat Penting</option><option>Penting</option><option>Tidak Penting</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#22d3ee; border-color:rgba(34, 211, 238, 0.3); margin-top:1.5rem;">Detail Aktivitas (Sets/Reps)</h4>
                    <div class="dynamic-group" id="containerSubSport">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countSubSport" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateSubSportFields()" style="background: linear-gradient(135deg, #84cc16, #06b6d4); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Add Activity</button>
                        </div>
                        <div id="wrapperSubSport" class="dynamic-wrapper"></div>
                    </div>
                </form>

                <div id="sportDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(132, 204, 22, 0.3); background:#064e3b; position:relative;">
                        <img id="viewSCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        <div class="detail-badge-float" id="viewSConceptBadge" style="border-color:#a3e635; color:#a3e635;"></div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(132, 204, 22, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewSStatus" class="badge-pill-sport-stat"></span>
                                    <span id="viewSType" class="badge-pill-sport-type"></span>
                                </div>
                                <h2 id="viewSTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #a3e635); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#22d3ee; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-medal"></i> <span id="viewSCategory"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewSImp" style="font-weight:800; color:#fbbf24; text-transform:uppercase; letter-spacing:1px;"></div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">PRIORITY</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid-box" style="border-color:rgba(132,204,22,0.2); background:rgba(6, 78, 59, 0.6);">
                        <div><small>Tanggal</small><div id="viewSDate" class="text-white"></div></div>
                        <div><small>Waktu</small><div id="viewSTime" class="text-highlight-lime"></div></div>
                        <div><small>Lokasi</small><div id="viewSLoc" class="text-white"></div></div>
                        
                        <div><small>Atlet/Owner</small><div id="viewSOwner" class="text-white"></div></div>
                        <div><small>Konsep</small><div id="viewSConcept" class="text-white"></div></div>
                        <div><small>Pelaksanaan</small><div id="viewSTypeText" class="text-white"></div></div>
                    </div>

                    <div class="detail-content-box">
                        <h4 class="box-label" style="color:#a3e635;"><i class="ph ph-info"></i> Deskripsi Latihan</h4>
                        <p id="viewSDesc" class="content-text"></p>
                    </div>

                    <h4 style="color:#22d3ee; margin-top:2rem; margin-bottom:1rem;">Detail Aktivitas / Set List</h4>
                    <div id="viewListSubSport" style="display:flex; flex-direction:column; gap:1rem;"></div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#94a3b8; display:flex; justify-content:space-between;">
                        <span id="viewSCreated"></span>
                        <span id="viewSUpdated"></span>
                    </div>

                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(132, 204, 22, 0.2); margin-top:auto;">
                <div id="sportFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeSportModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveSport()" style="background: linear-gradient(135deg, #65a30d, #0891b2);">Save Schedule</button>
                </div>
                <div id="sportDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editSport()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeSportModal()" style="background: linear-gradient(135deg, #65a30d, #0891b2);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="businessModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #0f172a, #1e293b); border: 1px solid rgba(148, 163, 184, 0.2); max-width: 1100px;">
            
            <div class="modal-header">
                <h3 id="businessModalTitle" style="color: #e2e8f0;">Business Activity Log</h3>
                <button class="btn-icon" onclick="closeBusinessModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="businessForm">
                    <input type="hidden" id="businessId">
                    
                    <h4 class="form-section-title" style="color:#94a3b8; border-color:rgba(148, 163, 184, 0.3);">Informasi Umum</h4>
                    <div class="form-group"><label>Judul Aktivitas</label><input type="text" id="inpBTitle" placeholder="Contoh: Evaluasi Sales Q1" required></div>
                    <div class="form-group"><label>Deskripsi Harian</label><textarea id="inpBDesc" style="height:60px;" placeholder="Ringkasan aktivitas..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Pemilik / PIC</label><input type="text" id="inpBOwner"></div>
                        <div class="form-group"><label>Kategori</label><select id="inpBCat"></select> </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Divisi / Unit</label><select id="inpBDiv"><option>Marketing</option><option>Sales</option><option>Finance</option><option>HR</option><option>Ops</option><option>Product</option><option>IT</option><option>Management</option></select></div>
                        <div class="form-group"><label>Tipe (Individu/Kelompok)</label><select id="inpBGroup"><option>Individu</option><option>Kelompok</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fbbf24; border-color:rgba(251, 191, 36, 0.3); margin-top:1.5rem;">Timeline & Status</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal</label><input type="date" id="inpBDate"></div>
                        <div class="form-group"><label>Deadline</label><input type="date" id="inpBDeadline"></div>
                        <div class="form-group"><label>Waktu</label><input type="time" step="1" id="inpBTime"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Status</label><select id="inpBStatus"><option>Belum Dimulai</option><option>Dilakukan</option><option>Selesai</option></select></div>
                        <div class="form-group"><label>Prioritas</label><select id="inpBImp"><option>Sangat Penting</option><option>Penting</option><option>Tidak Penting</option></select></div>
                        <div class="form-group"><label>Estimasi (Jam)</label><input type="number" id="inpBEst" placeholder="2"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#38bdf8; border-color:rgba(56, 189, 248, 0.3); margin-top:1.5rem;">KPI & Output</h4>
                    <div class="form-group"><label>Tujuan Aktivitas</label><input type="text" id="inpBGoal"></div>
                    <div class="form-row">
                        <div class="form-group"><label>Key Result / Output</label><input type="text" id="inpBOutput" placeholder="Laporan, Deal, Produk..."></div>
                        <div class="form-group"><label>KPI Terkait</label><input type="text" id="inpBKPI" placeholder="Revenue Growth, CSAT..."></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Biaya (Rp)</label><input type="number" id="inpBCost" placeholder="0"></div>
                        <div class="form-group"><label>Risiko Bisnis</label><input type="text" id="inpBRisk" placeholder="Low/High..."></div>
                    </div>

                    <h4 class="form-section-title" style="color:#f472b6; border-color:rgba(244, 114, 182, 0.3); margin-top:1.5rem;">Analisis & Evaluasi</h4>
                    <div class="form-group"><label>Progress (%)</label>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <input type="range" id="inpBProgressRange" min="0" max="100" value="0" oninput="document.getElementById('inpBProgressVal').innerText=this.value+'%'" style="flex:1;">
                            <span id="inpBProgressVal" style="color:#fff; font-weight:bold; width:40px;">0%</span>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Hambatan / Masalah</label><textarea id="inpBObstacle" style="height:50px;"></textarea></div>
                        <div class="form-group"><label>Solusi / Keputusan</label><textarea id="inpBSolution" style="height:50px;"></textarea></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Dampak Bisnis</label><select id="inpBImpact"><option>Positif</option><option>Netral</option><option>Negatif</option></select></div>
                        <div class="form-group"><label>Insight Bisnis</label><input type="text" id="inpBInsight"></div>
                    </div>
                    <div class="form-group"><label>Refleksi & Next Action</label><input type="text" id="inpBReflect"></div>

                    <h4 class="form-section-title" style="color:#94a3b8; border-color:rgba(148, 163, 184, 0.3); margin-top:1rem;">Dokumentasi</h4>
                    <div class="form-group"><label>Media Journal (Detail Catatan)</label><textarea id="inpBJournal" style="height:60px;"></textarea></div>
                    <div class="form-row">
                        <div class="form-group"><label>Link Dokumentasi</label><input type="text" id="inpBLink"></div>
                        <div class="form-group"><label>Catatan Tambahan</label><input type="text" id="inpBNotes"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fbbf24; border-color:rgba(251, 191, 36, 0.3); margin-top:1.5rem;">Sub Aktivitas (Action Items)</h4>
                    <div class="dynamic-group" id="containerSubBusiness">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countSubBusiness" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateSubBusinessFields()" style="background: linear-gradient(135deg, #f59e0b, #d97706); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Action Item</button>
                        </div>
                        <div id="wrapperSubBusiness" class="dynamic-wrapper"></div>
                    </div>
                </form>

                <div id="businessDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(148, 163, 184, 0.3); background:#0f172a; position:relative;">
                        <img id="viewBCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; left:20px; background:rgba(0,0,0,0.6); padding:5px 15px; border-radius:20px; border:1px solid #fbbf24; backdrop-filter:blur(5px);">
                            <span style="color:#fbbf24; font-size:0.8rem; font-weight:bold;">KPI: </span>
                            <span id="viewBKPIBadge" style="color:#fff; font-size:0.8rem;">-</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(148, 163, 184, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewBStatus" class="badge-pill-business-stat"></span>
                                    <span id="viewBDiv" class="badge-pill-business-type"></span>
                                </div>
                                <h2 id="viewBTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #94a3b8); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#38bdf8; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-briefcase-metal"></i> <span id="viewBCat"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewBDay" style="font-weight:800; color:#e2e8f0; text-transform:uppercase; letter-spacing:1px; font-size:1.2rem;"></div>
                                <div style="font-size:0.75rem; color:#64748b; margin-top:5px;">DEADLINE: <span id="viewBDeadline" style="color:#f87171;"></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid-box" style="border-color:rgba(148, 163, 184, 0.2); background:rgba(30, 41, 59, 0.6);">
                        <div><small>Tanggal</small><div id="viewBDate" class="text-white"></div></div>
                        <div><small>Waktu</small><div id="viewBTime" class="text-highlight-silver"></div></div>
                        <div><small>Progress</small><div id="viewBProgress" class="text-highlight-gold"></div></div>
                        
                        <div><small>Pemilik</small><div id="viewBOwner" class="text-white"></div></div>
                        <div><small>Biaya</small><div id="viewBCost" class="text-white"></div></div>
                        <div><small>Risiko</small><div id="viewBRisk" style="color:#f87171;"></div></div>

                        <div><small>Estimasi</small><div id="viewBEst" class="text-white"></div></div>
                        <div><small>Dampak</small><div id="viewBImpact" class="text-white"></div></div>
                        <div><small>Link</small><a id="viewBLink" href="#" target="_blank" style="color:#38bdf8; text-decoration:underline;">Dokumen</a></div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#cbd5e1;"><i class="ph ph-info"></i> Deskripsi & Tujuan</div>
                         <p id="viewBDesc" class="detail-text-content" style="color:#e2e8f0; margin-bottom:10px;"></p>
                         <strong style="color:#94a3b8; font-size:0.8rem;">TUJUAN:</strong>
                         <p id="viewBGoal" class="detail-text-content" style="color:#fff;"></p>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem; border-color:rgba(251, 191, 36, 0.3);">
                         <div class="detail-section-label" style="color:#fbbf24;"><i class="ph ph-target"></i> Key Results & KPI</div>
                         <strong style="color:#fcd34d; font-size:0.8rem;">OUTPUT UTAMA:</strong>
                         <p id="viewBOutput" class="detail-text-content" style="color:#fff; margin-bottom:10px;"></p>
                         <strong style="color:#fcd34d; font-size:0.8rem;">KPI TERKAIT:</strong>
                         <p id="viewBKPI" class="detail-text-content" style="color:#fff;"></p>
                    </div>

                    <div id="boxBusinessAnalysis" class="detail-content-box" style="background:rgba(255,255,255,0.02); border:1px solid rgba(56, 189, 248, 0.2); margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#38bdf8;"><i class="ph ph-chart-bar"></i> Analisis & Insight</div>
                         
                         <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-bottom:10px;">
                             <div>
                                 <strong style="color:#fca5a5; font-size:0.8rem;">HAMBATAN:</strong>
                                 <p id="viewBObstacle" class="detail-text-content" style="font-size:0.9rem;">-</p>
                             </div>
                             <div>
                                 <strong style="color:#86efac; font-size:0.8rem;">KEPUTUSAN/SOLUSI:</strong>
                                 <p id="viewBSolution" class="detail-text-content" style="font-size:0.9rem;">-</p>
                             </div>
                         </div>
                         <strong style="color:#7dd3fc; font-size:0.8rem;">INSIGHT BISNIS:</strong>
                         <p id="viewBInsight" class="detail-text-content" style="color:#fff; margin-bottom:10px;">-</p>
                         
                         <strong style="color:#c084fc; font-size:0.8rem;">REFLEKSI & NEXT ACTION:</strong>
                         <p id="viewBReflect" class="detail-text-content" style="color:#fff;">-</p>
                    </div>

                    <div class="detail-section-label" style="color:#94a3b8; margin-top:1rem;"><i class="ph ph-notebook"></i> Business Journal</div>
                    <div class="business-journal-box">
                        <p id="viewBJournal" class="detail-text-content" style="font-style:italic; color:#cbd5e1;"></p>
                    </div>

                    <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(148, 163, 184, 0.3); margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#64748b;"><i class="ph ph-note-pencil"></i> Catatan Tambahan</div>
                         <p id="viewBNotes" class="detail-text-content" style="color:#94a3b8; font-size:0.9rem;"></p>
                    </div>

                    <h4 style="color:#fbbf24; margin-top:2rem; margin-bottom:1rem;">Action Items (<span id="viewBTaskCount">0</span>)</h4>
                    <div id="viewListSubBusiness" style="display:flex; flex-direction:column; gap:1rem;"></div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#64748b; display:flex; justify-content:space-between;">
                        <span id="viewBCreated"></span>
                        <span id="viewBUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(148, 163, 184, 0.2); margin-top:auto;">
                <div id="businessFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeBusinessModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveBusiness()" style="background: linear-gradient(135deg, #1e293b, #475569);">Save Activity</button>
                </div>
                <div id="businessDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editBusiness()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeBusinessModal()" style="background: linear-gradient(135deg, #1e293b, #475569);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="financeModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #022c22, #064e3b); border: 1px solid rgba(16, 185, 129, 0.2); max-width: 900px;">
            
            <div class="modal-header">
                <h3 id="financeModalTitle" style="color: #34d399;">Catat Transaksi</h3>
                <button class="btn-icon" onclick="closeFinanceModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="financeForm">
                    <input type="hidden" id="financeId">
                    
                    <h4 class="form-section-title" style="color:#fbbf24; border-color:rgba(251, 191, 36, 0.3);">Detail Transaksi</h4>
                    <div class="form-group"><label>Judul Transaksi</label><input type="text" id="inpFiTitle" placeholder="Contoh: Gaji Bulanan / Makan Siang" required></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Tipe Transaksi</label><select id="inpFiType" style="color:#fbbf24; font-weight:bold;"><option value="Pemasukan">Pemasukan (+)</option><option value="Pengeluaran">Pengeluaran (-)</option></select></div>
                        <div class="form-group"><label>Nominal (Rp)</label><input type="number" id="inpFiAmount" placeholder="0" style="font-size:1.1rem;"></div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Kategori</label><select id="inpFiCat"></select> </div>
                        <div class="form-group"><label>Akun / Wallet</label><select id="inpFiAccount"><option>Cash</option><option>Bank Transfer</option><option>E-Wallet</option><option>Kartu Kredit</option><option>Lainnya</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#34d399; border-color:rgba(52, 211, 153, 0.3); margin-top:1.5rem;">Waktu & Status</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal</label><input type="date" id="inpFiDate"></div>
                        <div class="form-group"><label>Waktu</label><input type="time" step="1" id="inpFiTime"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Status Pembayaran</label><select id="inpFiStatus"><option>Lunas</option><option>Pending</option><option>Cicilan</option></select></div>
                        <div class="form-group"><label>Pemilik (Opsional)</label><input type="text" id="inpFiOwner"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#a7f3d0; border-color:rgba(167, 243, 208, 0.3); margin-top:1.5rem;">Bukti & Catatan</h4>
                    <div class="form-group"><label>Link Bukti Transaksi (Foto/Struk)</label><input type="text" id="inpFiProof" placeholder="Link gambar..."></div>
                    <div class="form-group"><label>Deskripsi / Catatan</label><textarea id="inpFiDesc" style="height:80px;" placeholder="Detail barang atau keperluan..."></textarea></div>
                </form>

                <div id="financeDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:200px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(16, 185, 129, 0.3); background:#064e3b; position:relative;">
                        <img id="viewFiCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; right:20px; background:rgba(0,0,0,0.7); padding:10px 20px; border-radius:30px; border:1px solid #fbbf24; backdrop-filter:blur(5px);">
                            <span id="viewFiAmount" style="color:#fbbf24; font-size:1.2rem; font-weight:800; letter-spacing:1px;">Rp 0</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(16, 185, 129, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewFiType" class="badge-pill-finance-type"></span>
                                    <span id="viewFiStatus" class="badge-pill-finance-stat"></span>
                                </div>
                                <h2 id="viewFiTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #fbbf24); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#6ee7b7; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-tag"></i> <span id="viewFiCat"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewFiAccount" style="font-weight:800; color:#d1fae5; text-transform:uppercase; letter-spacing:1px; font-size:1.1rem;"></div>
                                <div style="font-size:0.75rem; color:#6b7280; margin-top:5px;">PAYMENT METHOD</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid-box" style="border-color:rgba(16, 185, 129, 0.2); background:rgba(6, 78, 59, 0.6);">
                        <div><small>Tanggal</small><div id="viewFiDate" class="text-white"></div></div>
                        <div><small>Waktu</small><div id="viewFiTime" class="text-highlight-gold"></div></div>
                        <div><small>Pemilik</small><div id="viewFiOwner" class="text-white"></div></div>
                        <div><small>Bukti</small><a id="viewFiProof" href="#" target="_blank" style="color:#34d399; text-decoration:underline;">Lihat Foto</a></div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1.5rem; border-color:rgba(251, 191, 36, 0.2);">
                         <div class="detail-section-label" style="color:#fbbf24;"><i class="ph ph-note"></i> Catatan Transaksi</div>
                         <p id="viewFiDesc" class="detail-text-content" style="color:#ecfdf5; line-height:1.6;"></p>
                    </div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#6b7280; display:flex; justify-content:space-between;">
                        <span id="viewFiCreated"></span>
                        <span id="viewFiUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(16, 185, 129, 0.2); margin-top:auto;">
                <div id="financeFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeFinanceModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveFinance()" style="background: linear-gradient(135deg, #064e3b, #d97706);">Save Transaction</button>
                </div>
                <div id="financeDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editFinance()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeFinanceModal()" style="background: linear-gradient(135deg, #064e3b, #d97706);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="subModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #1e1b4b, #4c1d95); border: 1px solid rgba(167, 139, 250, 0.2); max-width: 900px;">
            
            <div class="modal-header">
                <h3 id="subModalTitle" style="color: #d8b4fe;">New Subscription</h3>
                <button class="btn-icon" onclick="closeSubModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="subForm">
                    <input type="hidden" id="subId">
                    
                    <h4 class="form-section-title" style="color:#d8b4fe; border-color:rgba(216, 180, 254, 0.3);">Informasi Layanan</h4>
                    <div class="form-group"><label>Nama Layanan</label><input type="text" id="inpSubName" placeholder="Contoh: Netflix Premium" required></div>
                    <div class="form-group"><label>Deskripsi / Paket</label><textarea id="inpSubDesc" style="height:60px;" placeholder="Paket Family 4K..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Biaya (Rp)</label><input type="number" id="inpSubCost" placeholder="186000"></div>
                        <div class="form-group"><label>Kategori</label><select id="inpSubCat"></select> </div>
                    </div>

                    <h4 class="form-section-title" style="color:#c084fc; border-color:rgba(192, 132, 252, 0.3); margin-top:1.5rem;">Siklus & Pembayaran</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Siklus Tagihan</label><select id="inpSubCycle"><option>Bulanan</option><option>Tahunan</option><option>Mingguan</option></select></div>
                        <div class="form-group"><label>Tagihan Berikutnya</label><input type="date" id="inpSubNextBill"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Metode Pembayaran</label><select id="inpSubMethod"><option>Kartu Kredit/Debit</option><option>E-Wallet (Gopay/Ovo)</option><option>Transfer Bank</option><option>Potong Pulsa</option><option>Google Play/App Store</option></select></div>
                        <div class="form-group"><label>Status</label><select id="inpSubStatus"><option>Aktif</option><option>Ditangguhkan</option><option>Dibatalkan</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#e879f9; border-color:rgba(232, 121, 249, 0.3); margin-top:1.5rem;">Reminder & Notes</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Akun Pengguna</label><input type="text" id="inpSubUser" placeholder="email@example.com"></div>
                        <div class="form-group"><label>Link Manage</label><input type="text" id="inpSubLink" placeholder="URL Login/Manage"></div>
                    </div>
                    <div class="form-group"><label>Catatan Tambahan</label><input type="text" id="inpSubNotes"></div>
                </form>

                <div id="subDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:200px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(167, 139, 250, 0.3); background:#2e1065; position:relative;">
                        <img id="viewSubCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; left:20px; background:rgba(0,0,0,0.6); padding:8px 16px; border-radius:20px; border:1px solid #d8b4fe; backdrop-filter:blur(5px);">
                            <span id="viewSubCost" style="color:#d8b4fe; font-size:1.1rem; font-weight:800; letter-spacing:1px;">Rp 0</span>
                            <span id="viewSubCycleBadge" style="color:#e9d5ff; font-size:0.8rem; margin-left:5px;">/Bulan</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(167, 139, 250, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewSubStatus" class="badge-pill-sub-stat"></span>
                                    <span id="viewSubCat" class="badge-pill-sub-type"></span>
                                </div>
                                <h2 id="viewSubName" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #d8b4fe); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#a78bfa; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-wallet"></i> <span id="viewSubMethod"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewSubUser" style="font-weight:600; color:#e9d5ff; font-size:0.9rem;"></div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">USER ACCOUNT</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="background:linear-gradient(135deg, rgba(88, 28, 135, 0.4), rgba(192, 38, 211, 0.2)); border:1px solid rgba(192, 38, 211, 0.4); margin-bottom:1.5rem; text-align:center; padding:1.5rem;">
                         <small style="color:#f5d0fe; text-transform:uppercase; letter-spacing:1px;">Tagihan Berikutnya Jatuh Pada</small>
                         <h2 id="viewSubNextBill" style="color:#fff; font-size:2rem; margin:10px 0; text-shadow: 0 0 15px rgba(192, 38, 211, 0.5);"></h2>
                         <div id="viewSubCountdown" style="color:#d8b4fe;"></div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#d8b4fe;"><i class="ph ph-info"></i> Detail Paket</div>
                         <p id="viewSubDesc" class="detail-text-content" style="color:#e9d5ff;"></p>
                    </div>

                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:1rem; margin-bottom:1.5rem;">
                        <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(167, 139, 250, 0.3);">
                            <div class="detail-section-label" style="color:#a78bfa;"><i class="ph ph-note"></i> Catatan</div>
                            <p id="viewSubNotes" class="detail-text-content" style="color:#c4b5fd; font-size:0.9rem;"></p>
                        </div>
                        <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(167, 139, 250, 0.3);">
                            <div class="detail-section-label" style="color:#a78bfa;"><i class="ph ph-link"></i> Manage</div>
                            <a id="viewSubLink" href="#" target="_blank" style="color:#e879f9; text-decoration:underline;">Buka Website</a>
                        </div>
                    </div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#9ca3af; display:flex; justify-content:space-between;">
                        <span id="viewSubCreated"></span>
                        <span id="viewSubUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(167, 139, 250, 0.2); margin-top:auto;">
                <div id="subFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeSubModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveSubscription()" style="background: linear-gradient(135deg, #581c87, #c026d3);">Save</button>
                </div>
                <div id="subDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editSubscription()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeSubModal()" style="background: linear-gradient(135deg, #581c87, #c026d3);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="skillModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #083344, #172554); border: 1px solid rgba(34, 211, 238, 0.2); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="skillModalTitle" style="color: #67e8f9;">New Skill Target</h3>
                <button class="btn-icon" onclick="closeSkillModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="skillForm">
                    <input type="hidden" id="skillId">
                    
                    <h4 class="form-section-title" style="color:#67e8f9; border-color:rgba(103, 232, 249, 0.3);">Identitas Skill</h4>
                    <div class="form-group"><label>Nama Skill</label><input type="text" id="inpSkName" placeholder="Contoh: Fullstack Development" required></div>
                    <div class="form-group"><label>Deskripsi / Alasan Belajar</label><textarea id="inpSkDesc" style="height:60px;" placeholder="Kenapa ingin belajar ini..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Kategori</label><select id="inpSkCat"></select> </div>
                        <div class="form-group"><label>Tingkat Saat Ini</label><select id="inpSkLevel"><option>Beginner</option><option>Intermediate</option><option>Advanced</option><option>Expert</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#3b82f6; border-color:rgba(59, 130, 246, 0.3); margin-top:1.5rem;">Sumber Daya</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Sumber Belajar</label><input type="text" id="inpSkSource" placeholder="Udemy, Coursera, Buku..."></div>
                        <div class="form-group"><label>Total Jam Belajar</label><input type="number" id="inpSkHours" placeholder="0"></div>
                    </div>
                    <div class="form-group"><label>Target Kompetensi</label><input type="text" id="inpSkTarget" placeholder="Bisa membuat aplikasi sendiri..."></div>

                    <h4 class="form-section-title" style="color:#22d3ee; border-color:rgba(34, 211, 238, 0.3); margin-top:1.5rem;">Progress & Bukti</h4>
                    <div class="form-group"><label>Progress Penguasaan (%)</label>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <input type="range" id="inpSkProgressRange" min="0" max="100" value="0" oninput="document.getElementById('inpSkProgressVal').innerText=this.value+'%'" style="flex:1;">
                            <span id="inpSkProgressVal" style="color:#fff; font-weight:bold; width:40px;">0%</span>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Status</label><select id="inpSkStatus"><option>To Learn</option><option>In Progress</option><option>Completed</option><option>On Hold</option></select></div>
                        <div class="form-group"><label>Link Sertifikat / Portofolio</label><input type="text" id="inpSkCert"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#67e8f9; border-color:rgba(103, 232, 249, 0.3); margin-top:1.5rem;">Sesi Belajar (Log)</h4>
                    <div class="dynamic-group" id="containerSubSkill">
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="number" id="countSubSkill" placeholder="Jml" style="width:60px;">
                            <button type="button" onclick="generateSubSkillFields()" style="background: linear-gradient(135deg, #0891b2, #2563eb); border:none; color:white; padding:0.4rem 1rem; border-radius:6px; cursor:pointer;">+ Add Session</button>
                        </div>
                        <div id="wrapperSubSkill" class="dynamic-wrapper"></div>
                    </div>
                </form>

                <div id="skillDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:200px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(34, 211, 238, 0.3); background:#083344; position:relative;">
                        <img id="viewSkCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; left:20px; background:rgba(0,0,0,0.7); padding:8px 16px; border-radius:20px; border:1px solid #22d3ee; backdrop-filter:blur(5px);">
                            <span style="color:#22d3ee; font-size:0.8rem; font-weight:bold;">LVL: </span>
                            <span id="viewSkLevelBadge" style="color:#fff; font-size:0.9rem; font-weight:bold;">Beginner</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(34, 211, 238, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewSkStatus" class="badge-pill-skill-stat"></span>
                                    <span id="viewSkCat" class="badge-pill-skill-type"></span>
                                </div>
                                <h2 id="viewSkName" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #67e8f9); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#7dd3fc; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-globe"></i> <span id="viewSkSource"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewSkHours" style="font-weight:800; color:#22d3ee; text-transform:uppercase; letter-spacing:1px; font-size:1.3rem;">0 JAM</div>
                                <div style="font-size:0.75rem; color:#94a3b8; margin-top:5px;">TOTAL JAM TERBANG</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="background:linear-gradient(135deg, rgba(8, 51, 68, 0.6), rgba(23, 37, 84, 0.4)); border:1px solid rgba(34, 211, 238, 0.3); margin-bottom:1.5rem;">
                         <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                             <span style="color:#67e8f9; font-weight:bold;">Penguasaan Skill</span>
                             <span id="viewSkProgressTxt" style="color:#fff; font-weight:bold;">0%</span>
                         </div>
                         <div style="width:100%; height:10px; background:rgba(255,255,255,0.1); border-radius:10px; overflow:hidden;">
                             <div id="viewSkProgressBar" style="height:100%; width:0%; background:linear-gradient(90deg, #22d3ee, #3b82f6); box-shadow: 0 0 10px #22d3ee;"></div>
                         </div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#a5f3fc;"><i class="ph ph-info"></i> Deskripsi</div>
                         <p id="viewSkDesc" class="detail-text-content" style="color:#cffafe;"></p>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem; border-color:rgba(59, 130, 246, 0.3);">
                         <div class="detail-section-label" style="color:#60a5fa;"><i class="ph ph-target"></i> Target Kompetensi</div>
                         <p id="viewSkTarget" class="detail-text-content" style="color:#fff;"></p>
                    </div>

                    <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(34, 211, 238, 0.3); margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#22d3ee;"><i class="ph ph-certificate"></i> Sertifikat / Bukti</div>
                         <a id="viewSkCert" href="#" target="_blank" style="color:#67e8f9; text-decoration:underline;">Lihat Dokumen</a>
                    </div>

                    <h4 style="color:#22d3ee; margin-top:2rem; margin-bottom:1rem;">Log Sesi Belajar (<span id="viewSkSessionCount">0</span>)</h4>
                    <div id="viewListSubSkill" style="display:flex; flex-direction:column; gap:1rem;"></div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#9ca3af; display:flex; justify-content:space-between;">
                        <span id="viewSkCreated"></span>
                        <span id="viewSkUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(34, 211, 238, 0.2); margin-top:auto;">
                <div id="skillFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeSkillModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveSkill()" style="background: linear-gradient(135deg, #0891b2, #2563eb);">Save Progress</button>
                </div>
                <div id="skillDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editSkill()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeSkillModal()" style="background: linear-gradient(135deg, #0891b2, #2563eb);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="habitModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #064e3b, #065f46); border: 1px solid rgba(110, 231, 183, 0.2); max-width: 900px;">
            
            <div class="modal-header">
                <h3 id="habitModalTitle" style="color: #6ee7b7;">New Habit</h3>
                <button class="btn-icon" onclick="closeHabitModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="habitForm">
                    <input type="hidden" id="habitId">
                    
                    <h4 class="form-section-title" style="color:#6ee7b7; border-color:rgba(110, 231, 183, 0.3);">Identitas Kebiasaan</h4>
                    <div class="form-group"><label>Nama Kebiasaan</label><input type="text" id="inpHaName" placeholder="Contoh: Lari Pagi 30 Menit" required></div>
                    <div class="form-group"><label>Alasan / Motivasi</label><textarea id="inpHaReason" style="height:60px;" placeholder="Kenapa ini penting bagimu?"></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Kategori</label><select id="inpHaCat"></select> </div>
                        <div class="form-group"><label>Frekuensi</label><select id="inpHaFreq"><option>Harian</option><option>Mingguan</option><option>Bulanan</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#34d399; border-color:rgba(52, 211, 153, 0.3); margin-top:1.5rem;">Pelaksanaan</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Waktu Pelaksanaan</label><input type="time" id="inpHaTime"></div>
                        <div class="form-group"><label>Trigger (Pemicu)</label><input type="text" id="inpHaTrigger" placeholder="Contoh: Setelah bangun tidur..."></div>
                    </div>
                    
                    <h4 class="form-section-title" style="color:#10b981; border-color:rgba(16, 185, 129, 0.3); margin-top:1.5rem;">Tracking</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Streak Awal (Hari)</label><input type="number" id="inpHaStreak" placeholder="0"></div>
                        <div class="form-group"><label>Status</label><select id="inpHaStatus"><option>Active</option><option>Paused</option><option>Archived</option></select></div>
                    </div>
                </form>

                <div id="habitDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:200px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(110, 231, 183, 0.3); background:#064e3b; position:relative;">
                        <img id="viewHaCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; left:20px; background:rgba(0,0,0,0.7); padding:8px 16px; border-radius:20px; border:1px solid #6ee7b7; backdrop-filter:blur(5px); display:flex; align-items:center; gap:8px;">
                            <i class="ph ph-fire" style="color:#fbbf24; font-size:1.2rem;"></i>
                            <span id="viewHaStreakBadge" style="color:#fff; font-size:1.1rem; font-weight:800;">0 Hari</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(110, 231, 183, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewHaStatus" class="badge-pill-habit-stat"></span>
                                    <span id="viewHaCat" class="badge-pill-habit-type"></span>
                                </div>
                                <h2 id="viewHaName" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #6ee7b7); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#a7f3d0; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-repeat"></i> <span id="viewHaFreq"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewHaTime" style="font-weight:800; color:#6ee7b7; font-size:1.3rem;"></div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">WAKTU PELAKSANAAN</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="background:linear-gradient(135deg, rgba(6, 95, 70, 0.6), rgba(6, 78, 59, 0.4)); border:1px solid rgba(52, 211, 153, 0.3); margin-bottom:1.5rem;">
                         <div style="display:flex; align-items:center; gap:10px; margin-bottom:5px;">
                             <i class="ph ph-lightning" style="color:#fbbf24;"></i>
                             <span style="color:#6ee7b7; font-weight:bold; text-transform:uppercase; font-size:0.8rem;">TRIGGER / PEMICU</span>
                         </div>
                         <p id="viewHaTrigger" style="color:#fff; font-size:1.1rem; font-weight:500;">-</p>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1.5rem; background: transparent; border: 1px dashed rgba(110, 231, 183, 0.4);">
                         <div class="detail-section-label" style="color:#a7f3d0;"><i class="ph ph-heart"></i> Alasan & Motivasi</div>
                         <p id="viewHaReason" class="detail-text-content" style="color:#d1fae5; font-style: italic;"></p>
                    </div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#9ca3af; display:flex; justify-content:space-between;">
                        <span id="viewHaCreated"></span>
                        <span id="viewHaUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(110, 231, 183, 0.2); margin-top:auto;">
                <div id="habitFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeHabitModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveHabit()" style="background: linear-gradient(135deg, #059669, #10b981);">Start Habit</button>
                </div>
                <div id="habitDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editHabit()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeHabitModal()" style="background: linear-gradient(135deg, #059669, #10b981);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="certModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #000000, #271a08); border: 1px solid rgba(245, 158, 11, 0.3); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="certModalTitle" style="color: #fbbf24;">New Credential</h3>
                <button class="btn-icon" onclick="closeCertModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="certForm">
                    <input type="hidden" id="certId">
                    
                    <h4 class="form-section-title" style="color:#fbbf24; border-color:rgba(251, 191, 36, 0.3);">Detail Sertifikasi</h4>
                    <div class="form-group"><label>Nama Sertifikasi</label><input type="text" id="inpCeName" placeholder="Contoh: Google Project Management" required></div>
                    <div class="form-group"><label>Deskripsi / Keahlian</label><textarea id="inpCeDesc" style="height:60px;" placeholder="Keahlian yang divalidasi..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Penerbit (Issuer)</label><select id="inpCeIssuer"></select> </div>
                        <div class="form-group"><label>ID Kredensial</label><input type="text" id="inpCeCredId" placeholder="No. Sertifikat"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#f59e0b; border-color:rgba(245, 158, 11, 0.3); margin-top:1.5rem;">Masa Berlaku</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal Terbit</label><input type="date" id="inpCeIssueDate"></div>
                        <div class="form-group"><label>Tanggal Kadaluarsa</label><input type="date" id="inpCeExpDate"></div>
                    </div>
                    <div class="form-group"><label>Status</label><select id="inpCeStatus"><option>Aktif</option><option>Kadaluarsa</option><option>Lifetime (Seumur Hidup)</option></select></div>

                    <h4 class="form-section-title" style="color:#fcd34d; border-color:rgba(252, 211, 77, 0.3); margin-top:1.5rem;">Bukti Digital</h4>
                    <div class="form-group"><label>Link Sertifikat (URL)</label><input type="text" id="inpCeLink" placeholder="Link Credly / Google Drive"></div>
                    <div class="form-group"><label>Catatan Tambahan</label><input type="text" id="inpCeNotes"></div>
                </form>

                <div id="certDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(245, 158, 11, 0.3); background:#1a1a1a; position:relative;">
                        <img id="viewCeCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; left:20px; background:rgba(0,0,0,0.8); padding:8px 16px; border-radius:20px; border:1px solid #fbbf24; backdrop-filter:blur(5px);">
                            <span style="color:#9ca3af; font-size:0.75rem;">ID:</span>
                            <span id="viewCeCredIdBadge" style="color:#fbbf24; font-size:0.9rem; font-weight:bold; margin-left:5px; font-family:monospace;">-</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(245, 158, 11, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewCeStatus" class="badge-pill-cert-stat"></span>
                                </div>
                                <h2 id="viewCeName" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #fbbf24); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#fde68a; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-stamp"></i> <span id="viewCeIssuer"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <i class="ph ph-certificate" style="font-size:3rem; color:#b45309;"></i>
                            </div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="background:linear-gradient(135deg, rgba(66, 32, 6, 0.6), rgba(0, 0, 0, 0.6)); border:1px solid rgba(245, 158, 11, 0.3); margin-bottom:1.5rem;">
                         <div style="display:flex; justify-content:space-between; text-align:center;">
                             <div>
                                 <small style="color:#d1d5db; text-transform:uppercase; letter-spacing:1px;">Issued</small>
                                 <div id="viewCeIssueDate" style="color:#fff; font-size:1.1rem; font-weight:600; margin-top:5px;">-</div>
                             </div>
                             <div style="border-right:1px solid rgba(255,255,255,0.1);"></div>
                             <div>
                                 <small style="color:#fbbf24; text-transform:uppercase; letter-spacing:1px;">Expires</small>
                                 <div id="viewCeExpDate" style="color:#fcd34d; font-size:1.1rem; font-weight:600; margin-top:5px;">-</div>
                             </div>
                         </div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#fcd34d;"><i class="ph ph-info"></i> Deskripsi Keahlian</div>
                         <p id="viewCeDesc" class="detail-text-content" style="color:#fef3c7;"></p>
                    </div>

                    <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(245, 158, 11, 0.3); margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#d97706;"><i class="ph ph-link"></i> Bukti Digital</div>
                         <a id="viewCeLink" href="#" target="_blank" style="color:#fbbf24; text-decoration:underline;">Lihat Kredensial</a>
                         <p id="viewCeNotes" style="margin-top:10px; color:#9ca3af; font-size:0.9rem; font-style:italic;"></p>
                    </div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#6b7280; display:flex; justify-content:space-between;">
                        <span id="viewCeCreated"></span>
                        <span id="viewCeUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(245, 158, 11, 0.2); margin-top:auto;">
                <div id="certFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeCertModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveCertification()" style="background: linear-gradient(135deg, #92400e, #b45309);">Save Credential</button>
                </div>
                <div id="certDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editCertification()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeCertModal()" style="background: linear-gradient(135deg, #92400e, #b45309);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="contentModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #4c0519, #2e1065); border: 1px solid rgba(236, 72, 153, 0.3); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="contentModalTitle" style="color: #f472b6;">Plan New Content</h3>
                <button class="btn-icon" onclick="closeContentModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="contentForm">
                    <input type="hidden" id="contentId">
                    
                    <h4 class="form-section-title" style="color:#f472b6; border-color:rgba(244, 114, 182, 0.3);">Konsep & Platform</h4>
                    <div class="form-group"><label>Judul Konten / Hook</label><input type="text" id="inpCtTitle" placeholder="Contoh: 5 Tips Produktivitas..." required></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Platform</label><select id="inpCtPlat"></select> </div>
                        <div class="form-group"><label>Format</label><select id="inpCtFormat"><option>Reels / TikTok</option><option>Story</option><option>Feed / Carousel</option><option>YouTube Video</option><option>Shorts</option><option>Thread</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fb923c; border-color:rgba(251, 146, 60, 0.3); margin-top:1.5rem;">Produksi & Jadwal</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Status Produksi</label><select id="inpCtStatus"><option>Ide</option><option>Scripting</option><option>Shooting</option><option>Editing</option><option>Scheduled</option><option>Posted</option></select></div>
                        <div class="form-group"><label>Tanggal Tayang</label><input type="date" id="inpCtDate"></div>
                        <div class="form-group"><label>Jam Tayang</label><input type="time" id="inpCtTime"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#a78bfa; border-color:rgba(167, 139, 250, 0.3); margin-top:1.5rem;">Copywriting</h4>
                    <div class="form-group"><label>Caption</label><textarea id="inpCtCaption" style="height:80px;" placeholder="Tulis caption menarik di sini..."></textarea></div>
                    <div class="form-group"><label>Hashtag</label><input type="text" id="inpCtTags" placeholder="#productivity #coding #fyp..."></div>
                    
                    <div class="form-group"><label>Link Asset / Draft</label><input type="text" id="inpCtLink" placeholder="Link Google Drive / Canva"></div>
                </form>

                <div id="contentDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(236, 72, 153, 0.3); background:#4c0519; position:relative;">
                        <img id="viewCtCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; right:20px; background:rgba(0,0,0,0.7); padding:8px 16px; border-radius:20px; border:1px solid #f472b6; backdrop-filter:blur(5px);">
                            <span id="viewCtPlatBadge" style="color:#fbcfe8; font-size:0.9rem; font-weight:bold; text-transform:uppercase; letter-spacing:1px;">PLATFORM</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(236, 72, 153, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewCtFormat" class="badge-pill-content-type"></span>
                                    <span id="viewCtStatus" class="badge-pill-content-stat"></span>
                                </div>
                                <h2 id="viewCtTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #f472b6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewCtTime" style="font-weight:800; color:#fb923c; font-size:1.2rem;"></div>
                                <div style="font-size:0.75rem; color:#9ca3af; margin-top:5px;">JAM TAYANG</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="background:linear-gradient(135deg, rgba(124, 58, 237, 0.4), rgba(219, 39, 119, 0.2)); border:1px solid rgba(236, 72, 153, 0.3); margin-bottom:1.5rem; display:flex; justify-content:space-between; align-items:center;">
                         <div>
                             <small style="color:#e9d5ff;">Jadwal Posting</small>
                             <div id="viewCtDate" style="color:#fff; font-size:1.1rem; font-weight:600;">-</div>
                         </div>
                         <div style="text-align:right;">
                             <small style="color:#e9d5ff;">Status</small>
                             <div id="viewCtStatusText" style="color:#fbcfe8; font-weight:bold;">-</div>
                         </div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#f472b6;"><i class="ph ph-text-aa"></i> Caption</div>
                         <p id="viewCtCaption" class="detail-text-content" style="color:#fbcfe8; font-family:sans-serif;"></p>
                    </div>

                    <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(167, 139, 250, 0.3); margin-bottom:1rem;">
                         <div class="detail-section-label" style="color:#a78bfa;"><i class="ph ph-hash"></i> Hashtags</div>
                         <p id="viewCtTags" style="color:#c084fc; font-weight:500; line-height:1.6;"></p>
                    </div>

                    <div class="detail-content-box" style="background:transparent; border:1px dashed rgba(236, 72, 153, 0.3); margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#fb923c;"><i class="ph ph-link"></i> Assets</div>
                         <a id="viewCtLink" href="#" target="_blank" style="color:#f472b6; text-decoration:underline;">Buka File / Draft</a>
                    </div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#9ca3af; display:flex; justify-content:space-between;">
                        <span id="viewCtCreated"></span>
                        <span id="viewCtUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(236, 72, 153, 0.2); margin-top:auto;">
                <div id="contentFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeContentModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveContent()" style="background: linear-gradient(135deg, #be185d, #7c3aed);">Save Post</button>
                </div>
                <div id="contentDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editContent()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeContentModal()" style="background: linear-gradient(135deg, #be185d, #7c3aed);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="portModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #4c0519, #881337); border: 1px solid rgba(251, 113, 133, 0.3); max-width: 1000px;">
            
            <div class="modal-header">
                <h3 id="portModalTitle" style="color: #fda4af;">New Masterpiece</h3>
                <button class="btn-icon" onclick="closePortModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="portForm">
                    <input type="hidden" id="portId">
                    
                    <h4 class="form-section-title" style="color:#fda4af; border-color:rgba(253, 164, 175, 0.3);">Detail Karya</h4>
                    <div class="form-group"><label>Judul Karya</label><input type="text" id="inpPoTitle" placeholder="Contoh: UI Design App Travel" required></div>
                    <div class="form-group"><label>Deskripsi Konsep</label><textarea id="inpPoDesc" style="height:80px;" placeholder="Ceritakan ide dibalik karya ini..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Kategori / Tools Utama</label><select id="inpPoTool"></select> </div>
                        <div class="form-group"><label>Tipe Proyek</label><select id="inpPoType"><option>Personal Project</option><option>Client Work</option><option>Contest / Lomba</option><option>Collaboration</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fb7185; border-color:rgba(251, 113, 133, 0.3); margin-top:1.5rem;">Meta Data</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Nama Klien (Opsional)</label><input type="text" id="inpPoClient" placeholder="-"></div>
                        <div class="form-group"><label>Tahun Pembuatan</label><input type="number" id="inpPoYear" placeholder="2024"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fecdd3; border-color:rgba(254, 205, 211, 0.3); margin-top:1.5rem;">Asset Digital</h4>
                    <div class="form-group"><label>Link High-Res / Behance / Dribbble</label><input type="text" id="inpPoLink" placeholder="https://..."></div>
                    <div class="form-group"><label>Tags (Comma Separated)</label><input type="text" id="inpPoTags" placeholder="Minimalist, Mobile, Dark Mode..."></div>
                </form>

                <div id="portDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:300px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(251, 113, 133, 0.3); background:#881337; position:relative; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
                        <img id="viewPoCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; top:20px; right:20px; background:rgba(0,0,0,0.6); padding:5px 15px; border-radius:20px; border:1px solid #fda4af; backdrop-filter:blur(5px);">
                            <span id="viewPoYear" style="color:#fff; font-weight:bold;">2024</span>
                        </div>
                    </div>

                    <div style="display:flex; justify-content:space-between; align-items:flex-end; margin-bottom:1.5rem; border-bottom:1px solid rgba(251, 113, 133, 0.2); padding-bottom:1rem;">
                        <div>
                            <div style="display:flex; gap:8px; margin-bottom:0.8rem;">
                                <span id="viewPoTool" class="badge-pill-port-tool"></span>
                                <span id="viewPoType" class="badge-pill-port-type"></span>
                            </div>
                            <h2 id="viewPoTitle" style="font-size:2.2rem; line-height:1.2; background: linear-gradient(to right, #fff, #fda4af); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom:0.5rem;"></h2>
                            <div style="color:#fecdd3; font-size:1rem;">
                                <i class="ph ph-user"></i> Client: <span id="viewPoClient" style="font-weight:600; color:#fff;">-</span>
                            </div>
                        </div>
                        
                        <a id="viewPoLink" href="#" target="_blank" class="btn-primary" style="background: linear-gradient(135deg, #e11d48, #be123c); text-decoration:none; padding: 0.6rem 1.2rem; border-radius:30px; font-size:0.9rem;">
                            View Project <i class="ph ph-arrow-up-right"></i>
                        </a>
                    </div>

                    <div class="detail-content-box" style="background:transparent; border-left:4px solid #fb7185; padding-left:1.5rem; margin-bottom:2rem;">
                         <div class="detail-section-label" style="color:#fda4af; margin-bottom:10px;">CONCEPT & STORY</div>
                         <p id="viewPoDesc" class="detail-text-content" style="color:#fff0f5; font-size:1.05rem; line-height:1.8; white-space: pre-wrap;"></p>
                    </div>

                    <div style="display:flex; flex-wrap:wrap; gap:10px; margin-bottom:2rem;">
                        <span style="color:#9ca3af; font-size:0.8rem; align-self:center; margin-right:5px;">TAGS:</span>
                        <div id="viewPoTagsContainer" style="display:flex; gap:8px; flex-wrap:wrap;"></div>
                    </div>

                    <div style="margin-top:auto; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#fca5a5; display:flex; justify-content:space-between;">
                        <span id="viewPoCreated"></span>
                        <span id="viewPoUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(251, 113, 133, 0.2); margin-top:auto;">
                <div id="portFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closePortModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="savePortfolio()" style="background: linear-gradient(135deg, #be123c, #fb7185);">Upload Work</button>
                </div>
                <div id="portDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editPortfolio()">Edit</button>
                    <button type="button" class="btn-save" onclick="closePortModal()" style="background: linear-gradient(135deg, #be123c, #fb7185);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="videoModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #1a0505, #450a0a); border: 1px solid rgba(239, 68, 68, 0.3); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="videoModalTitle" style="color: #f87171;">Drafting Table</h3>
                <button class="btn-icon" onclick="closeVideoModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="videoForm">
                    <input type="hidden" id="videoId">
                    
                    <h4 class="form-section-title" style="color:#f87171; border-color:rgba(248, 113, 113, 0.3);">Konsep Utama</h4>
                    <div class="form-group"><label>Premis / Judul Tentatif</label><input type="text" id="inpViTitle" placeholder="Contoh: Saya Mencoba Diet Keto 30 Hari" required></div>
                    
                    <div class="form-group"><label style="color:#ef4444; font-weight:bold;">HOOK (3 Detik Pertama)</label><textarea id="inpViHook" style="height:80px; border-color:rgba(239,68,68,0.5);" placeholder="Kalimat pertama yang bikin orang berhenti scroll..."></textarea></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Kategori</label><select id="inpViCat"></select> </div>
                        <div class="form-group"><label>Estimasi Durasi</label><select id="inpViDur"><option>Shorts (< 60s)</option><option>Medium (1-5 min)</option><option>Long (5-15 min)</option><option>Documentary (> 15 min)</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fca5a5; border-color:rgba(252, 165, 165, 0.3); margin-top:1.5rem;">Produksi</h4>
                    <div class="form-group"><label>Alat yang Dibutuhkan</label><input type="text" id="inpViTools" placeholder="Kamera, Tripod, Green Screen, Mic..."></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Call to Action (CTA)</label><input type="text" id="inpViCTA" placeholder="Subscribe, Komen di bawah, Klik link..."></div>
                        <div class="form-group"><label>Status Script</label><select id="inpViStatus"><option>Ide Mentah</option><option>Riset</option><option>Scripting</option><option>Siap Shoot</option></select></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fee2e2; border-color:rgba(254, 226, 226, 0.3); margin-top:1.5rem;">Referensi</h4>
                    <div class="form-group"><label>Link Referensi Video</label><input type="text" id="inpViLink" placeholder="URL Youtube / TikTok inspirasi"></div>
                </form>

                <div id="videoDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(239, 68, 68, 0.3); background:#450a0a; position:relative;">
                        <img id="viewViCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; right:20px; background:rgba(0,0,0,0.8); padding:5px 15px; border-radius:20px; border:1px solid #f87171; backdrop-filter:blur(5px); display:flex; align-items:center; gap:5px;">
                            <i class="ph ph-timer" style="color:#f87171;"></i>
                            <span id="viewViDurBadge" style="color:#fff; font-weight:bold; font-size:0.9rem;">-</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(239, 68, 68, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewViCat" class="badge-pill-video-type"></span>
                                    <span id="viewViStatus" class="badge-pill-video-stat"></span>
                                </div>
                                <h2 id="viewViTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #f87171); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                            </div>
                            <div style="text-align:right;">
                                <div style="width:50px; height:50px; background:rgba(220, 38, 38, 0.2); border-radius:50%; display:flex; align-items:center; justify-content:center; border:1px solid #dc2626;">
                                    <i class="ph ph-play-fill" style="color:#ef4444; font-size:1.5rem;"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="background:linear-gradient(135deg, rgba(127, 29, 29, 0.6), rgba(0, 0, 0, 0.6)); border:1px solid #ef4444; margin-bottom:1.5rem; position:relative;">
                         <div style="position:absolute; top:-12px; left:20px; background:#1a0505; padding:0 10px; color:#ef4444; font-weight:bold; font-size:0.8rem; border:1px solid #ef4444; border-radius:4px;">THE HOOK (0-3s)</div>
                         <p id="viewViHook" style="color:#fff; font-size:1.2rem; font-weight:500; line-height:1.6; font-style:italic;">"</p>
                    </div>

                    <div class="detail-grid-box" style="border-color:rgba(239, 68, 68, 0.2); background:rgba(69, 10, 10, 0.3);">
                        <div>
                            <small>Call to Action</small>
                            <div id="viewViCTA" class="text-white">-</div>
                        </div>
                        <div>
                            <small>Alat / Gear</small>
                            <div id="viewViTools" class="text-white">-</div>
                        </div>
                        <div>
                            <small>Referensi</small>
                            <a id="viewViLink" href="#" target="_blank" class="link-styled" style="color:#f87171;">Buka Link</a>
                        </div>
                    </div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#fca5a5; display:flex; justify-content:space-between;">
                        <span id="viewViCreated"></span>
                        <span id="viewViUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(239, 68, 68, 0.2); margin-top:auto;">
                <div id="videoFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeVideoModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveVideoIdea()" style="background: linear-gradient(135deg, #991b1b, #ef4444);">Save Draft</button>
                </div>
                <div id="videoDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editVideoIdea()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeVideoModal()" style="background: linear-gradient(135deg, #991b1b, #ef4444);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="watchModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #0f0f0f, #280505); border: 1px solid rgba(153, 27, 27, 0.3); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="watchModalTitle" style="color: #f87171;">Cinema Entry</h3>
                <button class="btn-icon" onclick="closeWatchModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="watchForm">
                    <input type="hidden" id="watchId">
                    
                    <h4 class="form-section-title" style="color:#f87171; border-color:rgba(248, 113, 113, 0.3);">Informasi Tayangan</h4>
                    <div class="form-group"><label>Judul Film / Series</label><input type="text" id="inpWaTitle" placeholder="Contoh: Oppenheimer / Breaking Bad" required></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Tipe</label><select id="inpWaType"><option>Movie</option><option>Series</option><option>Anime</option><option>Documentary</option></select></div>
                        <div class="form-group"><label>Genre</label><select id="inpWaGenre"></select> </div>
                    </div>

                    <h4 class="form-section-title" style="color:#ef4444; border-color:rgba(239, 68, 68, 0.3); margin-top:1.5rem;">Platform & Progress</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Platform</label><input type="text" id="inpWaPlat" placeholder="Netflix, Disney+, HBO..."></div>
                        <div class="form-group"><label>Status</label><select id="inpWaStatus"><option>Plan to Watch</option><option>Watching</option><option>Completed</option><option>Dropped</option></select></div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Season (Untuk Series)</label><input type="number" id="inpWaSeason" placeholder="1"></div>
                        <div class="form-group"><label>Episode Terakhir</label><input type="number" id="inpWaEp" placeholder="0"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#fca5a5; border-color:rgba(252, 165, 165, 0.3); margin-top:1.5rem;">Penilaian Pribadi</h4>
                    <div class="form-group"><label>Rating (1-10)</label><input type="number" id="inpWaRating" min="1" max="10" placeholder="0"></div>
                    <div class="form-group"><label>Review Singkat / Catatan</label><textarea id="inpWaReview" style="height:80px;" placeholder="Bagaimana kesanmu?"></textarea></div>
                    <div class="form-group"><label>Link Poster (Opsional)</label><input type="text" id="inpWaImg" placeholder="Link gambar custom..."></div>
                </form>

                <div id="watchDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:250px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(153, 27, 27, 0.3); background:#280505; position:relative;">
                        <img id="viewWaCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; right:20px; background:rgba(0,0,0,0.8); padding:8px 16px; border-radius:20px; border:1px solid #fbbf24; backdrop-filter:blur(5px); display:flex; align-items:center; gap:8px;">
                            <i class="ph ph-star-fill" style="color:#fbbf24; font-size:1.2rem;"></i>
                            <span id="viewWaRatingBadge" style="color:#fff; font-size:1.3rem; font-weight:800;">0/10</span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(153, 27, 27, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <div style="display:flex; gap:8px; margin-bottom:0.5rem;">
                                    <span id="viewWaType" class="badge-pill-watch-type"></span>
                                    <span id="viewWaStatus" class="badge-pill-watch-stat"></span>
                                </div>
                                <h2 id="viewWaTitle" style="margin-top:0.5rem; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #f87171); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#fecaca; font-size:1rem; margin-top:0.5rem; font-weight:600; text-transform:uppercase;">
                                    <i class="ph ph-television"></i> <span id="viewWaPlat"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div style="font-size:3rem; color:#7f1d1d; opacity:0.5;">
                                    <i class="ph ph-film-slate"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="background:linear-gradient(135deg, rgba(69, 10, 10, 0.6), rgba(0, 0, 0, 0.6)); border:1px solid #7f1d1d; margin-bottom:1.5rem;">
                         <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                             <span style="color:#f87171; font-weight:bold;">Progress Menonton</span>
                             <span id="viewWaProgressTxt" style="color:#fff; font-weight:bold;">Movie</span>
                         </div>
                         <div id="viewWaSeriesBar" style="width:100%; height:6px; background:rgba(255,255,255,0.1); border-radius:10px; overflow:hidden;">
                             <div style="height:100%; width:100%; background:#ef4444;"></div>
                         </div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1rem; border-left: 3px solid #fbbf24;">
                         <div class="detail-section-label" style="color:#fbbf24;"><i class="ph ph-chat-centered-text"></i> Review & Catatan</div>
                         <p id="viewWaReview" class="detail-text-content" style="color:#fff; font-style:italic; font-size:1.05rem;"></p>
                    </div>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#9ca3af; display:flex; justify-content:space-between;">
                        <span id="viewWaCreated"></span>
                        <span id="viewWaUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(153, 27, 27, 0.2); margin-top:auto;">
                <div id="watchFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeWatchModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveWatchlist()" style="background: linear-gradient(135deg, #7f1d1d, #ef4444);">Add to List</button>
                </div>
                <div id="watchDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editWatchlist()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeWatchModal()" style="background: linear-gradient(135deg, #7f1d1d, #ef4444);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="crmModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #0f172a, #1e293b); border: 1px solid rgba(56, 189, 248, 0.2); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="crmModalTitle" style="color: #60a5fa;">Contact Profile</h3>
                <button class="btn-icon" onclick="closeCrmModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="crmForm">
                    <input type="hidden" id="crmId">
                    
                    <h4 class="form-section-title" style="color:#60a5fa; border-color:rgba(96, 165, 250, 0.3);">Informasi Dasar</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Nama Lengkap</label><input type="text" id="inpCrName" placeholder="Contoh: Budi Santoso" required></div>
                        <div class="form-group"><label>Panggilan / Nickname</label><input type="text" id="inpCrNick" placeholder="Pak Budi"></div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Perusahaan / Institusi</label><input type="text" id="inpCrComp" placeholder="PT. Maju Mundur"></div>
                        <div class="form-group"><label>Role / Jabatan</label><input type="text" id="inpCrRole" placeholder="CEO / Manager"></div>
                    </div>

                    <h4 class="form-section-title" style="color:#94a3b8; border-color:rgba(148, 163, 184, 0.3); margin-top:1.5rem;">Klasifikasi & Personal</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Kategori Relasi</label><select id="inpCrCat"><option>Klien</option><option>Mentor</option><option>Partner</option><option>Teman</option><option>Prospek</option><option>Investor</option></select></div>
                        <div class="form-group"><label>Tanggal Lahir</label><input type="date" id="inpCrDob"></div>
                    </div>
                    
                    <h4 class="form-section-title" style="color:#38bdf8; border-color:rgba(56, 189, 248, 0.3); margin-top:1.5rem;">Log Interaksi</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Terakhir Bertemu</label><input type="date" id="inpCrLastMet"></div>
                        <div class="form-group"><label>Media Pertemuan</label><input type="text" id="inpCrVia" placeholder="Lunch, Zoom, Meeting..."></div>
                    </div>
                    <div class="form-group"><label>Topik Pembicaraan Terakhir</label><textarea id="inpCrTopic" style="height:60px;" placeholder="Apa yang dibahas? Insight penting?"></textarea></div>

                    <h4 class="form-section-title" style="color:#cbd5e1; border-color:rgba(203, 213, 225, 0.3); margin-top:1.5rem;">Kontak</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Email</label><input type="email" id="inpCrEmail"></div>
                        <div class="form-group"><label>No. HP / WA</label><input type="text" id="inpCrPhone"></div>
                        <div class="form-group"><label>LinkedIn (URL)</label><input type="text" id="inpCrLink"></div>
                    </div>
                </form>

                <div id="crmDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; padding:2rem; border-radius:16px; margin-bottom:1.5rem; background:linear-gradient(135deg, #1e293b, #0f172a); border:1px solid rgba(56, 189, 248, 0.2); position:relative; overflow:hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
                        <div style="position:absolute; top:-50px; right:-50px; width:150px; height:150px; background:radial-gradient(circle, rgba(56, 189, 248, 0.1) 0%, transparent 70%); border-radius:50%;"></div>
                        
                        <div style="display:flex; gap:20px; align-items:center; position:relative; z-index:2;">
                            <img id="viewCrAvatar" src="" style="width:100px; height:100px; border-radius:50%; object-fit:cover; border:3px solid #38bdf8; box-shadow: 0 0 15px rgba(56, 189, 248, 0.3);">
                            <div>
                                <h2 id="viewCrName" style="margin:0; font-size:1.8rem; color:#fff; line-height:1.2;"></h2>
                                <div id="viewCrRoleComp" style="color:#94a3b8; font-size:1rem; margin-top:5px; font-weight:500;"></div>
                                <div style="display:flex; gap:10px; margin-top:12px;">
                                    <span id="viewCrCat" class="badge-pill-crm-type"></span>
                                    <span id="viewCrBirthday" class="badge-pill-crm-dob"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="background:rgba(30, 41, 59, 0.5); border-left:4px solid #38bdf8; margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#60a5fa; display:flex; justify-content:space-between;">
                             <span><i class="ph ph-chats-circle"></i> Interaksi Terakhir</span>
                             <span id="viewCrLastMetDate" style="color:#fff; font-weight:bold;">-</span>
                         </div>
                         <p id="viewCrTopic" class="detail-text-content" style="color:#e2e8f0; font-style:italic; font-size:1.05rem;"></p>
                         <div style="margin-top:10px; font-size:0.8rem; color:#94a3b8;">Via: <span id="viewCrVia"></span></div>
                    </div>

                    <div class="detail-grid-box" style="grid-template-columns: 1fr 1fr; gap:1rem;">
                        <a id="viewCrEmailLink" href="#" class="detail-content-box" style="margin:0; display:flex; align-items:center; gap:10px; text-decoration:none; background:rgba(255,255,255,0.03);">
                            <i class="ph ph-envelope" style="font-size:1.5rem; color:#94a3b8;"></i>
                            <div>
                                <small style="display:block; color:#64748b;">Email</small>
                                <span id="viewCrEmail" style="color:#fff;">-</span>
                            </div>
                        </a>
                        <a id="viewCrPhoneLink" href="#" class="detail-content-box" style="margin:0; display:flex; align-items:center; gap:10px; text-decoration:none; background:rgba(255,255,255,0.03);">
                            <i class="ph ph-whatsapp-logo" style="font-size:1.5rem; color:#22c55e;"></i>
                            <div>
                                <small style="display:block; color:#64748b;">Phone / WA</small>
                                <span id="viewCrPhone" style="color:#fff;">-</span>
                            </div>
                        </a>
                    </div>
                    
                    <a id="viewCrLinkedin" href="#" target="_blank" class="detail-content-box" style="margin-top:1rem; display:flex; align-items:center; gap:10px; text-decoration:none; justify-content:center; border:1px solid #0a66c2;">
                        <i class="ph ph-linkedin-logo" style="font-size:1.5rem; color:#0a66c2;"></i>
                        <span style="color:#fff; font-weight:600;">Lihat Profil LinkedIn</span>
                    </a>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#64748b; display:flex; justify-content:space-between;">
                        <span id="viewCrCreated"></span>
                        <span id="viewCrUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(56, 189, 248, 0.2); margin-top:auto;">
                <div id="crmFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeCrmModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveCrm()" style="background: linear-gradient(135deg, #1e40af, #3b82f6);">Save Contact</button>
                </div>
                <div id="crmDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editCrm()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeCrmModal()" style="background: linear-gradient(135deg, #1e40af, #3b82f6);">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="meetModalOverlay">
        <div class="modal-box" style="background: linear-gradient(145deg, #0f172a, #1e293b); border: 1px solid rgba(217, 119, 6, 0.3); max-width: 950px;">
            
            <div class="modal-header">
                <h3 id="meetModalTitle" style="color: #fbbf24;">Agenda Rapat</h3>
                <button class="btn-icon" onclick="closeMeetModal()"><i class="ph ph-x"></i></button>
            </div>

            <div class="modal-body">
                <form id="meetForm">
                    <input type="hidden" id="meetId">
                    
                    <h4 class="form-section-title" style="color:#fbbf24; border-color:rgba(251, 191, 36, 0.3);">Detail Agenda</h4>
                    <div class="form-group"><label>Topik / Judul Rapat</label><input type="text" id="inpMeTitle" placeholder="Contoh: Q1 Marketing Strategy" required></div>
                    
                    <div class="form-row">
                        <div class="form-group"><label>Tipe Pertemuan</label><select id="inpMeType"><option>Internal Team</option><option>Client Meeting</option><option>Brainstorming</option><option>Review</option><option>Interview</option></select></div>
                        <div class="form-group"><label>Platform / Lokasi</label><input type="text" id="inpMeLoc" placeholder="Zoom, Google Meet, Ruang Meeting A..."></div>
                    </div>

                    <h4 class="form-section-title" style="color:#cbd5e1; border-color:rgba(203, 213, 225, 0.3); margin-top:1.5rem;">Logistik</h4>
                    <div class="form-row">
                        <div class="form-group"><label>Tanggal</label><input type="date" id="inpMeDate"></div>
                        <div class="form-group"><label>Waktu</label><input type="time" id="inpMeTime"></div>
                    </div>
                    <div class="form-group"><label>Peserta (Pisahkan dengan koma)</label><input type="text" id="inpMeAttendees" placeholder="Budi, Ani, Client X..."></div>
                    <div class="form-group"><label>Status</label><select id="inpMeStatus"><option>Scheduled</option><option>Completed</option><option>Cancelled</option></select></div>

                    <h4 class="form-section-title" style="color:#94a3b8; border-color:rgba(148, 163, 184, 0.3); margin-top:1.5rem;">Notulensi & Hasil</h4>
                    <div class="form-group"><label>Poin Pembahasan Utama</label><textarea id="inpMePoints" style="height:80px;" placeholder="Ringkasan diskusi..."></textarea></div>
                    <div class="form-group"><label style="color:#f59e0b;">Action Items / To-Do Next</label><textarea id="inpMeAction" style="height:60px; border-color:rgba(245, 158, 11, 0.5);" placeholder="Apa yang harus dilakukan setelah ini?"></textarea></div>
                    <div class="form-group"><label>Link Rekaman / Dokumen</label><input type="text" id="inpMeLink"></div>
                </form>

               <div id="meetDetailView" class="hidden detail-view">
                    
                    <div style="margin-top:1rem; width:100%; height:220px; border-radius:16px; overflow:hidden; margin-bottom:1.5rem; border:1px solid rgba(217, 119, 6, 0.3); background:#0f172a; position:relative;">
                        <img id="viewMeCover" src="" style="width:100%; height:100%; object-fit:cover;">
                        
                        <div style="position:absolute; bottom:20px; left:20px;">
                            <span id="viewMeType" class="badge-pill-meet-type"></span>
                        </div>

                        <div style="position:absolute; bottom:20px; right:20px;">
                            <span id="viewMeStatus" class="badge-pill-meet-stat"></span>
                        </div>
                    </div>

                    <div style="margin-bottom:1.5rem; border-bottom:1px solid rgba(217, 119, 6, 0.2); padding-bottom:1rem;">
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div>
                                <h2 id="viewMeTitle" style="margin:0; font-size:2rem; line-height:1.2; background: linear-gradient(to right, #fff, #fbbf24); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></h2>
                                <div style="color:#94a3b8; font-size:1rem; margin-top:8px; display:flex; align-items:center; gap:5px;">
                                    <i class="ph ph-map-pin" style="color:#d97706;"></i> <span id="viewMeLoc"></span>
                                </div>
                            </div>
                            <div style="text-align:right;">
                                <div id="viewMeDate" style="font-weight:bold; color:#fbbf24; font-size:1.1rem;">-</div>
                                <div id="viewMeTime" style="color:#cbd5e1; font-size:0.9rem;">-</div>
                            </div>
                        </div>
                        
                        <div style="margin-top:1rem; padding-top:1rem; border-top:1px dashed rgba(255,255,255,0.1);">
                            <small style="color:#64748b; text-transform:uppercase; letter-spacing:1px;"><i class="ph ph-users"></i> Attendees</small>
                            <div id="viewMeAttendees" style="color:#e2e8f0; font-size:0.95rem; margin-top:5px;">-</div>
                        </div>
                    </div>

                    <div class="detail-content-box" style="margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#cbd5e1;"><i class="ph ph-list-bullets"></i> Ringkasan Diskusi</div>
                         <p id="viewMePoints" class="detail-text-content" style="color:#94a3b8; white-space:pre-line;"></p>
                    </div>

                    <div class="detail-content-box" style="background:rgba(245, 158, 11, 0.05); border:1px solid rgba(245, 158, 11, 0.3); margin-bottom:1.5rem;">
                         <div class="detail-section-label" style="color:#fbbf24;"><i class="ph ph-check-square"></i> Action Items (Next Steps)</div>
                         <p id="viewMeAction" class="detail-text-content" style="color:#fff; font-weight:500; white-space:pre-line;"></p>
                    </div>
                    
                    <a id="viewMeLink" href="#" target="_blank" class="detail-content-box" style="margin:0; display:flex; align-items:center; gap:10px; text-decoration:none; justify-content:center; border:1px dashed #64748b; background:transparent;">
                        <i class="ph ph-link" style="font-size:1.2rem; color:#94a3b8;"></i>
                        <span style="color:#cbd5e1;">Buka Dokumen / Rekaman</span>
                    </a>

                    <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid rgba(255,255,255,0.1); font-size:0.75rem; color:#64748b; display:flex; justify-content:space-between;">
                        <span id="viewMeCreated"></span>
                        <span id="viewMeUpdated"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="border-top-color: rgba(217, 119, 6, 0.2); margin-top:auto;">
                <div id="meetFormActions" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="closeMeetModal()">Cancel</button>
                    <button type="button" class="btn-save" onclick="saveMeeting()" style="background: linear-gradient(135deg, #b45309, #d97706);">Save Note</button>
                </div>
                <div id="meetDetailActions" class="hidden" style="width:100%; display:flex; justify-content:flex-end; gap:1rem;">
                    <button type="button" class="btn-cancel" onclick="editMeeting()">Edit</button>
                    <button type="button" class="btn-save" onclick="closeMeetModal()" style="background: linear-gradient(135deg, #b45309, #d97706);">Close</button>
                </div>
            </div>
        </div>
    </div>
 <script src="script.js"></script>
  
</body>
</html>
